(function(e){function t(t){for(var s,i,l=t[0],n=t[1],c=t[2],p=0,d=[];p<l.length;p++)i=l[p],o[i]&&d.push(o[i][0]),o[i]=0;for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,l=1;l<a.length;l++){var n=a[l];0!==o[n]&&(s=!1)}s&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},o={app:0},r=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],n=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=n;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var s=a("64a9"),o=a.n(s);o.a},"044bc":function(e,t,a){"use strict";var s=a("cb0f"),o=a.n(s);o.a},"105c":function(e,t,a){"use strict";var s=a("9f7a"),o=a.n(s);o.a},"188e":function(e,t,a){"use strict";var s=a("330e"),o=a.n(s);o.a},1927:function(e,t,a){},"1de9":function(e,t,a){},"22bb":function(e,t,a){},"235f":function(e,t,a){"use strict";var s=a("3a2b"),o=a.n(s);o.a},2379:function(e,t,a){},"2d09":function(e,t,a){},"320d":function(e,t,a){"use strict";var s=a("22bb"),o=a.n(s);o.a},"330e":function(e,t,a){},"336f":function(e,t,a){},"33d6":function(e,t,a){},3884:function(e,t,a){"use strict";var s=a("56c7"),o=a.n(s);o.a},"3a2b":function(e,t,a){},"3b90":function(e,t,a){},"3c7d":function(e,t,a){"use strict";var s=a("d806"),o=a.n(s);o.a},"3f8e0":function(e,t,a){"use strict";var s=a("8529"),o=a.n(s);o.a},4260:function(e,t,a){"use strict";var s=a("1927"),o=a.n(s);o.a},4458:function(e,t,a){"use strict";var s=a("9aa0"),o=a.n(s);o.a},"48b7":function(e,t,a){"use strict";var s=a("6b2b"),o=a.n(s);o.a},"4e1a":function(e,t,a){},"4e83":function(e,t,a){"use strict";var s=a("650e"),o=a.n(s);o.a},"513d":function(e,t,a){},"538d":function(e,t,a){"use strict";var s=a("6ed9"),o=a.n(s);o.a},"56c7":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var s=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},r=[],i={name:"app"},l=i,n=(a("034f"),a("2877")),c=Object(n["a"])(l,o,r,!1,null,null,null);c.options.__file="App.vue";var u=c.exports,p=a("8c4f"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"container"},[a("el-header",{staticClass:"headerBgc"},[a("h1",[e._v("\n      爱宠邦后台管理系统\n      "),a("span",{staticClass:"el-icon-service user"},[e._v("\n        "+e._s(e.phone)+",欢迎你!\n        "),a("span",{staticClass:"el-icon-error back",on:{click:e.removeSession}})])])]),a("el-container",{staticClass:"aside"},[a("el-aside",{staticClass:"aside",attrs:{width:"200px"}},[a("el-menu",{staticClass:"menu",attrs:{"background-color":"#35495e","text-color":"#fff","active-text-color":"#ffd04b",router:!0}},["管理员"==e.session.private?a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),a("span",[e._v("平台管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/manage/platform/UserManage"}},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("用户管理")])]),a("el-menu-item",{attrs:{index:"/manage/platform/PetmasterManage"}},[a("i",{staticClass:"el-icon-printer"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("宠主管理")])]),a("el-menu-item",{attrs:{index:"/manage/platform/StoreManage"}},[a("i",{staticClass:"el-icon-goods"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("门店管理")])]),a("el-menu-item",{attrs:{index:"/manage/platform/Statistics"}},[a("i",{staticClass:"el-icon-tickets"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("统计")])])],1)],2):e._e(),"门店"==e.session.private?a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),a("span",[e._v("门面管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/manage/orders"}},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("订单")])]),a("el-menu-item",{attrs:{index:"/manage/shop"}},[a("i",{staticClass:"el-icon-printer"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("商品")])]),a("el-menu-item",{attrs:{index:"/manage/services"}},[a("i",{staticClass:"el-icon-goods"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("服务")])]),a("el-menu-item",{attrs:{index:"/manage/mine"}},[a("i",{staticClass:"el-icon-goods"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("我的")])]),a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-tickets"}),a("span",[e._v("报表展示")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/manage/report/salenum"}},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("销售量统计")])]),a("el-menu-item",{attrs:{index:"/manage/report/sales"}},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("销售额统计")])])],1)],2)],1)],2):e._e(),"供应商"==e.session.private?a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),a("span",[e._v("供应商管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/manage/producers"}},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("供应商信息")])]),a("el-menu-item",{attrs:{index:"/manage/supplier/products"}},[a("i",{staticClass:"el-icon-printer"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("商品信息")])]),a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-tickets"}),a("span",[e._v("报表展示")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/manage/supplier/salesreport"}},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("销量统计")])])],1)],2)],1)],2):e._e()],1)],1),a("el-main",[a("router-view")],1)],1)],1)},m=[],f=a("cebc"),h=a("bc3a"),v=a.n(h),b=a("2f62"),g={data:function(){return{phone:""}},computed:Object(f["a"])({},Object(b["e"])(["session"]),{path:function(){return this.$router.history.current.path}}),mounted:function(){this.getSessionIndex()},created:function(){this.getSession()},methods:Object(f["a"])({},Object(b["c"])(["getSession"]),{removeSession:function(){var e=this;this.$confirm("确定退出系统?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){v()({method:"get",url:"/users/removeSession"}).then(function(){e.$router.history.push("/login"),e.$message({type:"success",message:"退出成功!"})})}).catch(function(){e.$message({type:"info",message:"已取消操作"})})},getSessionIndex:function(){var e=this;v()({method:"get",url:"/users/getSession"}).then(function(t){var a=t.data;a.phone?"封禁"==a.account?(alert("你的账号已被封禁，如需解封，请及时联系管理员！！！"),e.$router.history.push("/login")):e.phone=a.phone:e.$router.history.push("/login")})}})},y=g,_=(a("6c28"),Object(n["a"])(y,d,m,!1,null,"64ef72ac",null));_.options.__file="index.vue";var S=_.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加")]),a("el-button",{on:{click:e.clearFilter}},[e._v("清除所有过滤器")]),a("div",{staticClass:"el-search"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("el-select",{staticClass:"selectWidth",attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-option",{attrs:{label:"手机号",value:"phone"}}),a("el-option",{attrs:{label:"申请类型",value:"private"}}),a("el-option",{attrs:{label:"状态",value:"status"}}),a("el-option",{attrs:{label:"账号情况",value:"account"}})],1),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchBtn},slot:"append"})],1)],1),a("el-dialog",{attrs:{title:"添加",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"类型：",prop:"private"}},[a("el-radio",{attrs:{label:"门店",border:""},model:{value:e.addForm.private,callback:function(t){e.$set(e.addForm,"private",t)},expression:"addForm.private"}},[e._v("门店")]),a("el-radio",{attrs:{label:"供应商",border:""},model:{value:e.addForm.private,callback:function(t){e.$set(e.addForm,"private",t)},expression:"addForm.private"}},[e._v("供应商")])],1),a("el-form-item",{attrs:{label:"手机号：",prop:"phone"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addForm.phone,callback:function(t){e.$set(e.addForm,"phone",t)},expression:"addForm.phone"}})],1),a("el-form-item",{attrs:{label:"密码：",prop:"password"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1),a("el-form-item",{attrs:{label:"确认密码：",prop:"confirm"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.addForm.confirm,callback:function(t){e.$set(e.addForm,"confirm",t)},expression:"addForm.confirm"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.calcel}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addAdministrators}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"修改信息",visible:e.updateDialogVisible,width:"30%"},on:{"update:visible":function(t){e.updateDialogVisible=t}}},[a("el-form",{ref:"updateForm",attrs:{model:e.user,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"密码：",prop:"password"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.updateCalcel}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.updateAdministrators}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"详情",visible:e.dialogDetailsVisible,width:"30%"},on:{"update:visible":function(t){e.dialogDetailsVisible=t}}},["门店"==e.userPrivate?a("div",["已审核"==e.shopOrsupplier.status?a("p",[a("el-button",{attrs:{type:"success"}},[e._v("门店申请已审核")])],1):e._e(),"已拒绝"==e.shopOrsupplier.status?a("p",[a("el-button",{attrs:{type:"info"}},[e._v("门店申请已拒绝")])],1):e._e(),a("p",[e._v("注册人："+e._s(e.shopOrsupplier.username))]),a("p",[e._v("营业地址："+e._s(e.shopOrsupplier.addr))]),a("p",[e._v("网址："+e._s(e.shopOrsupplier.website))]),a("p",[e._v("营业执照图片：\n\n        "),a("el-upload",{attrs:{disabled:"false","show-file-list":!1}},[e.shopOrsupplier.business_lic?a("img",{staticClass:"shoperImg",attrs:{src:e.shopOrsupplier.business_lic}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("p",[e._v("店名："+e._s(e.shopOrsupplier.name))]),a("p",[e._v("营业执照号码："+e._s(e.shopOrsupplier.business_no))]),a("p",[e._v("所在城市："+e._s(e.shopOrsupplier.city))]),a("p",[e._v("法人："+e._s(e.shopOrsupplier.legal_person))]),a("p",[e._v("联系电话："+e._s(e.shopOrsupplier.tel))]),a("p",[e._v("门店图：\n        "),a("el-upload",{attrs:{disabled:"false","show-file-list":!1}},[e.shopOrsupplier.img_head?a("img",{staticClass:"shoperImg",attrs:{src:e.shopOrsupplier.img_head}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("p",[e._v("特色："+e._s(e.shopOrsupplier.feature))]),a("p",[e._v("VIP等级："+e._s(e.shopOrsupplier.vip))]),a("p",[e._v("佣金比例："+e._s(e.shopOrsupplier.commission_rate))]),"待审核"==e.shopOrsupplier.status?a("p",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.agreeShopTwice(e.shopOrsupplier._id)}}},[e._v("通过门店申请审核")]),a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.refuseShopTwice(e.shopOrsupplier._id)}}},[e._v("拒绝")])],1):e._e()]):e._e(),"供应商"==e.userPrivate?a("div",["已审核"==e.shopOrsupplier.status?a("p",[a("el-button",{attrs:{type:"success"}},[e._v("供应商申请已审核")])],1):e._e(),"已拒绝"==e.shopOrsupplier.status?a("p",[a("el-button",{attrs:{type:"info"}},[e._v("供应商申请已拒绝")])],1):e._e(),a("p",[e._v("供应商名字："+e._s(e.shopOrsupplier.username))]),a("p",[e._v("供应商编号："+e._s(e.shopOrsupplier.No))]),a("p",[e._v("供应商名称："+e._s(e.shopOrsupplier.name))]),a("p",[e._v("供应商地址："+e._s(e.shopOrsupplier.addr))]),a("p",[e._v("供应商电话："+e._s(e.shopOrsupplier.tel))]),a("p",[e._v("供应商网站："+e._s(e.shopOrsupplier.website))]),a("p",[e._v("供应商营业执照：\n        "),a("el-upload",{attrs:{disabled:"false","show-file-list":!1}},[e.shopOrsupplier.license?a("img",{staticClass:"shoperImg",attrs:{src:e.shopOrsupplier.license}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("p",[e._v("供应商备注："+e._s(e.shopOrsupplier.desc))]),"待审核"==e.shopOrsupplier.status?a("p",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.agreeSupplierTwice(e.shopOrsupplier._id)}}},[e._v("通过供应商申请审核")]),a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.refuseSupplierTwice(e.shopOrsupplier._id)}}},[e._v("拒绝")])],1):e._e()]):e._e(),""==e.shopOrsupplier.status?a("div",[a("p",[e._v("暂无审核消息。")])]):e._e()]),a("div",[a("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:e.users}},[a("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),a("el-table-column",{attrs:{prop:"password",label:"密码"}}),a("el-table-column",{attrs:{prop:"private",label:"申请类型",filters:[{text:"供应商",value:"供应商"},{text:"门店",value:"门店"}],"filter-method":e.filterPrivate,"filter-placement":"bottom-end"}}),a("el-table-column",{attrs:{prop:"status",label:"用户申请状态",filters:[{text:"已审核",value:"已审核"},{text:"待审核",value:"待审核"},{text:"已拒绝",value:"已拒绝"}],"filter-method":e.filterStatus,"filter-placement":"bottom-end"}}),a("el-table-column",{attrs:{prop:"account",label:"账号情况",filters:[{text:"正常",value:"正常"},{text:"封禁",value:"封禁"}],"filter-method":e.filterAccount,"filter-placement":"bottom-end"}}),a("el-table-column",{attrs:{label:"审核信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.see(t.row._id)}}},[e._v("查看")])]}}])}),a("el-table-column",{attrs:{prop:"",width:"400",label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(a){e.agree(t.row)}}},[a("i",{staticClass:"el-icon-check"}),e._v("同意")]),a("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(a){e.refuse(t.row)}}},[a("i",{staticClass:"el-icon-minus"}),e._v("拒绝")]),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.prohibition(t.row)}}},[a("i",{staticClass:"el-icon-close"}),e._v("封禁")]),a("el-button",{attrs:{size:"small",type:"info"},on:{click:function(a){e.unsealing(t.row)}}},[a("i",{staticClass:"el-icon-view"}),e._v("解封")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){e.revise(t.row._id)}}},[a("i",{staticClass:"el-icon-edit"}),e._v("修改")])]}}])})],1)],1),a("el-pagination",{attrs:{"current-page":e.pagination.curpage,"page-sizes":[5,10,20,30],"page-size":e.pagination.eachpage,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},w=[],F=(a("386d"),Object(b["a"])("platformModule")),k=F.mapState,P=F.mapActions,O=F.mapMutations,$={computed:Object(f["a"])({},k(["users","user","pagination","search"]),{password:{get:function(){return this.user.password},set:function(e){this.$store.commit("platformModule/setUser",Object(f["a"])({},this.user,{password:e}))}}}),created:function(){this.setUsers()},data:function(){return{addForm:{private:"",phone:"",password:"",confirm:""},shopOrsupplier:{},userPrivate:"",rules:{private:[{required:!0,message:"请选择注册类型"}],phone:[{required:!0,message:"请输入电话号码"},{pattern:/^1\d{10}$/,message:"手机号码格式不正确"},{validator:this.validatePhone}],password:[{required:!0,message:"请输入密码"},{min:6,message:"密码最少六位"}],confirm:[{required:!0,message:"请输入确认密码"},{validator:this.validatePwd}]},dialogVisible:!1,dialogDetailsVisible:!1,updateDialogVisible:!1,currentSize:"",value:"",type:""}},methods:Object(f["a"])({},P(["setUsers","setUser"]),O(["setSearch"]),{validatePhone:function(e,t,a){v()({method:"get",url:"/platform/findPhone",params:{phone:t}}).then(function(e){var t=e.data;0==t.status?a("手机号重复"):a()})},validatePwd:function(e,t,a){t==this.addForm.password?a():a("两次密码不一致")},see:function(e){var t=this;v()({method:"get",url:"/platform/findShopOrSupplier",params:{id:e}}).then(function(e){var a=e.data;t.dialogDetailsVisible=!0,0==a.length?(t.shopOrsupplier={},t.userPrivate=""):(t.shopOrsupplier=a[0],t.userPrivate=a[0].user.private)})},addAdministrators:function(){var e=this;this.$refs.addForm.validate(function(t){t?v()({method:"post",url:"/platform/reg",data:{phone:e.addForm.phone,password:e.addForm.password,private:e.addForm.private,status:"待审核",account:"正常"}}).then(function(){e.dialogVisible=!1,e.resetForm(),e.setUsers()}):e.$alert("注册失败，输入有误！！","消息")})},calcel:function(){this.dialogVisible=!1,this.resetForm()},updateCalcel:function(){this.updateDialogVisible=!1},clearFilter:function(){this.$refs.filterTable.clearFilter()},filterPrivate:function(e,t){return t.private===e},filterStatus:function(e,t){return t.status===e},filterAccount:function(e,t){return t.account===e},resetForm:function(){this.$refs.addForm.resetFields()},agree:function(e){var t=this,a=e._id;"待审核"==e.status&&this.$confirm("此操作将同意此账号的审核, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){v()({method:"put",url:"/platform/putStatus/"+a,data:{status:"已审核"}}).then(function(){t.setUsers(),t.$message({type:"success",message:"已同意审核!"})})}).catch(function(){t.$message({type:"info",message:"已取消操作"})})},refuse:function(e){var t=this,a=e._id;"待审核"==e.status&&this.$confirm("此操作将拒绝此账号的审核, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){v()({method:"put",url:"/platform/putStatus/"+a,data:{status:"已拒绝"}}).then(function(){t.setUsers(),t.$message({type:"success",message:"已拒绝审核!"})})}).catch(function(){t.$message({type:"info",message:"已取消操作"})})},prohibition:function(e){var t=this,a=e._id;"正常"==e.account&&this.$confirm("此操作将封禁此账号, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){v()({method:"put",url:"/platform/putStatus/"+a,data:{account:"封禁"}}).then(function(){t.setUsers(),t.$message({type:"success",message:"封禁成功!"})})}).catch(function(){t.$message({type:"info",message:"已取消操作"})})},unsealing:function(e){var t=this,a=e._id;"封禁"==e.account&&this.$confirm("此操作将解封此账号, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){v()({method:"put",url:"/platform/putStatus/"+a,data:{account:"正常"}}).then(function(){t.setUsers(),t.$message({type:"success",message:"解封成功!"})})}).catch(function(){t.$message({type:"info",message:"已取消操作"})})},revise:function(e){this.updateDialogVisible=!0,this.setUser(e)},updateAdministrators:function(){var e=this,t=this.user,a=t._id,s=t.password;this.$refs.updateForm.validate(function(t){t?v()({method:"put",url:"/platform/putStatus/"+a,data:{password:s}}).then(function(){e.updateDialogVisible=!1,e.setUsers()}):e.$alert("修改失败，输入有误！！","消息")})},agreeShopTwice:function(e){var t=this;this.$confirm("此操作将通过次账号的门店申请, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){v()({method:"put",url:"/platform/putShop/"+e,data:{status:"已审核"}}).then(function(){t.dialogDetailsVisible=!1,t.$message({type:"success",message:"门店审核成功!"})})}).catch(function(){t.$message({type:"info",message:"已取消操作"})})},refuseShopTwice:function(e){var t=this;this.$confirm("此操作将拒绝次账号的门店申请, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){v()({method:"put",url:"/platform/putShop/"+e,data:{status:"已拒绝"}}).then(function(){t.dialogDetailsVisible=!1,t.$message({type:"success",message:"已拒绝此门店申请!"})})}).catch(function(){t.$message({type:"info",message:"已取消操作"})})},agreeSupplierTwice:function(e){var t=this;this.$confirm("此操作将通过次账号的供应商申请, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){v()({method:"put",url:"/platform/putSupplier/"+e,data:{status:"已审核"}}).then(function(){t.dialogDetailsVisible=!1,t.$message({type:"success",message:"供应商审核成功!"})})}).catch(function(){t.$message({type:"info",message:"已取消操作"})})},refuseSupplierTwice:function(e){var t=this;this.$confirm("此操作将拒绝次账号的供应商申请, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){v()({method:"put",url:"/platform/putSupplier/"+e,data:{status:"已拒绝"}}).then(function(){t.dialogDetailsVisible=!1,t.$message({type:"success",message:"已拒绝此供应商申请!"})})}).catch(function(){t.$message({type:"info",message:"已取消操作"})})},handleSizeChange:function(e){this.setUsers({page:1,rows:e,type:this.search.type,value:this.search.value}),this.currentSize=e},handleCurrentChange:function(e){this.setUsers({page:e,rows:this.currentSize,type:this.search.type,value:this.search.value})},searchBtn:function(){var e=this.type,t=this.value;this.setSearch({type:e,value:t}),this.setUsers({page:1,rows:5,type:e,value:t})}})},D=$,I=(a("3f8e0"),Object(n["a"])(D,x,w,!1,null,"e21cdac4",null));I.options.__file="index.vue";var C=I.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{on:{click:e.clearFilter}},[e._v("清除所有过滤器")]),a("div",{staticClass:"el-search"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("el-select",{staticClass:"selectWidth",attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-option",{attrs:{label:"账户名",value:"name"}}),a("el-option",{attrs:{label:"地址",value:"addr"}}),a("el-option",{attrs:{label:"账户状态",value:"account"}})],1),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchBtn},slot:"append"})],1)],1),a("div",[a("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:e.petmasters}},[a("el-table-column",{attrs:{prop:"name",label:"账户名"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),a("el-table-column",{attrs:{prop:"addr",label:"地址"}}),a("el-table-column",{attrs:{prop:"account",label:"账户状态",filters:[{text:"正常",value:"正常"},{text:"封禁",value:"封禁"}],"filter-method":e.filterAccount,"filter-placement":"bottom-end"}}),a("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){e.Unsealing(t.row)}}},[e._v("解封")]),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.Prohibition(t.row)}}},[e._v("封禁")])]}}])})],1)],1),a("el-pagination",{attrs:{"current-page":e.petmasterPagination.curpage,"page-sizes":[5,10,20,30],"page-size":e.petmasterPagination.eachpage,layout:"total, sizes, prev, pager, next, jumper",total:e.petmasterPagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},j=[],V=Object(b["a"])("platformModule"),A=V.mapState,M=V.mapActions,U=V.mapMutations,z={computed:Object(f["a"])({},A(["petmasters","petmasterPagination","petmasterSearch"])),data:function(){return{value:"",type:"",currentSize:""}},created:function(){this.setPetmasters()},methods:Object(f["a"])({},M(["setPetmasters"]),U(["setPetmasterSearch"]),{Unsealing:function(e){var t=this,a=e._id;"正常"!=e.account&&this.$confirm("此操作将同意此账号的解封, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){v()({method:"put",url:"/platform/putPetmaster/"+a,data:{account:"正常"}}).then(function(){t.setPetmasters(),t.$message({type:"success",message:"已解封!"})})}).catch(function(){t.$message({type:"info",message:"已取消操作"})})},Prohibition:function(e){var t=this,a=e._id;"封禁"!=e.account&&this.$confirm("此操作将同意此账号封禁, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){v()({method:"put",url:"/platform/putPetmaster/"+a,data:{account:"封禁"}}).then(function(){t.setPetmasters(),t.$message({type:"success",message:"已封禁!"})})}).catch(function(){t.$message({type:"info",message:"已取消操作"})})},clearFilter:function(){this.$refs.filterTable.clearFilter()},filterAccount:function(e,t){return t.account===e},handleSizeChange:function(e){this.setPetmasters({page:1,rows:e,type:this.petmasterSearch.type,value:this.petmasterSearch.value}),this.currentSize=e},handleCurrentChange:function(e){this.setPetmasters({page:e,rows:this.currentSize,type:this.petmasterSearch.type,value:this.petmasterSearch.value})},searchBtn:function(){var e=this.type,t=this.value;this.setPetmasterSearch({type:e,value:t}),this.setPetmasters({page:1,rows:5,type:e,value:t})}})},B=z,q=(a("a4f1"),Object(n["a"])(B,T,j,!1,null,"4b632c90",null));q.options.__file="index.vue";var L=q.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.openAddDialog}},[e._v("添加门店")]),a("el-button",{on:{click:e.clearFilter}},[e._v("清除所有过滤器")]),a("div",{staticClass:"el-search"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("el-select",{staticClass:"selectWidth",attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-option",{attrs:{label:"注册人",value:"username"}}),a("el-option",{attrs:{label:"门店名",value:"name"}}),a("el-option",{attrs:{label:"所在城市",value:"city"}}),a("el-option",{attrs:{label:"法人",value:"legal_person"}}),a("el-option",{attrs:{label:"审核状态",value:"status"}}),a("el-option",{attrs:{label:"门店状态",value:"account"}})],1),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchBtn},slot:"append"})],1)],1),a("div",[a("el-dialog",{attrs:{title:"添加门店",visible:e.addDialogVisible,width:"50%"},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-form",{ref:"addShopForm",attrs:{model:e.addShopForm,rules:e.rules,"status-icon":"","label-width":"150px"}},[a("el-form-item",{attrs:{label:"选择门店注册人：",prop:"id"}},[a("el-select",{attrs:{placeholder:"请选择门店注册人"},model:{value:e.addShopForm.id,callback:function(t){e.$set(e.addShopForm,"id",t)},expression:"addShopForm.id"}},e._l(e.regShoper,function(e){return a("el-option",{key:e,attrs:{label:e.phone,value:e._id}})}),1)],1),a("el-form-item",{attrs:{prop:"username",label:"用户名："}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addShopForm.username,callback:function(t){e.$set(e.addShopForm,"username",t)},expression:"addShopForm.username"}})],1),a("el-form-item",{attrs:{prop:"name",label:"店名："}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addShopForm.name,callback:function(t){e.$set(e.addShopForm,"name",t)},expression:"addShopForm.name"}})],1),a("el-form-item",{attrs:{label:"上传门店图片",prop:"img_head"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/upload","show-file-list":!1,"on-success":e.handleAvatarSuccessShop,"before-upload":e.beforeAvatarUploadShop}},[e.addShopForm.img_head?a("img",{staticClass:"avatar",attrs:{src:e.addShopForm.img_head}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{prop:"business_no",label:"营业执照号码："}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addShopForm.business_no,callback:function(t){e.$set(e.addShopForm,"business_no",t)},expression:"addShopForm.business_no"}})],1),a("el-form-item",{attrs:{label:"营业执照图片",prop:"business_lic"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/upload","show-file-list":!1,"on-success":e.handleAvatarSuccessBus,"before-upload":e.beforeAvatarUploadBus}},[e.addShopForm.business_lic?a("img",{staticClass:"avatar",attrs:{src:e.addShopForm.business_lic}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{prop:"legal_person",label:"法人："}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addShopForm.legal_person,callback:function(t){e.$set(e.addShopForm,"legal_person",t)},expression:"addShopForm.legal_person"}})],1),a("el-form-item",{attrs:{label:"营业地址:",prop:"addr"}},[a("el-input",{attrs:{autocomplete:"off"},on:{blur:e.getLocation},model:{value:e.addShopForm.addr,callback:function(t){e.$set(e.addShopForm,"addr",t)},expression:"addShopForm.addr"}})],1),a("el-form-item",{attrs:{label:"经纬度:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.addShopForm.location,callback:function(t){e.$set(e.addShopForm,"location",t)},expression:"addShopForm.location"}})],1),a("el-form-item",{attrs:{label:"所在城市",prop:"city"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addShopForm.city,callback:function(t){e.$set(e.addShopForm,"city",t)},expression:"addShopForm.city"}})],1),a("el-form-item",{attrs:{label:"联系电话：",prop:"tel"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addShopForm.tel,callback:function(t){e.$set(e.addShopForm,"tel",t)},expression:"addShopForm.tel"}})],1),a("el-form-item",{attrs:{label:"特色:",prop:"feature"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addShopForm.feature,callback:function(t){e.$set(e.addShopForm,"feature",t)},expression:"addShopForm.feature"}})],1),a("el-form-item",{attrs:{label:"网址:",prop:"website"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addShopForm.website,callback:function(t){e.$set(e.addShopForm,"website",t)},expression:"addShopForm.website"}})],1),a("el-form-item",{attrs:{label:"VIP等级:",prop:"vip"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addShopForm.vip,callback:function(t){e.$set(e.addShopForm,"vip",t)},expression:"addShopForm.vip"}})],1),a("el-form-item",{attrs:{label:"佣金比例:",prop:"commission_rate"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addShopForm.commission_rate,callback:function(t){e.$set(e.addShopForm,"commission_rate",t)},expression:"addShopForm.commission_rate"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.calcle}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addStore}},[e._v("确 定")])],1)],1),a("UptateStore"),a("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:e.stores}},[a("el-table-column",{attrs:{width:"120",prop:"username",label:"注册人"}}),a("el-table-column",{attrs:{width:"120",prop:"name",label:"门店名","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{width:"120",prop:"addr",label:"营业地址","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{width:"120",prop:"business_no",label:"营业执照号码","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{width:"120",prop:"business_lic",label:"营业执照图片","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{width:"120",prop:"city",label:"所在城市","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{width:"120",prop:"location",label:"定位","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{width:"120",prop:"legal_person",label:"法人"}}),a("el-table-column",{attrs:{width:"120",prop:"tel",label:"联系电话"}}),a("el-table-column",{attrs:{width:"120",prop:"img_head",label:"头图","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{width:"120",prop:"feature",label:"特色","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{width:"120",prop:"website",label:"网址","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{width:"120",prop:"vip",label:"VIP等级"}}),a("el-table-column",{attrs:{width:"120",prop:"commission_rate",label:"佣金比例"}}),a("el-table-column",{attrs:{width:"120",prop:"status",label:"审核状态",filters:[{text:"已审核",value:"已审核"},{text:"待审核",value:"待审核"},{text:"已拒绝",value:"已拒绝"}],"filter-method":e.filterStatus,"filter-placement":"bottom-end"}}),a("el-table-column",{attrs:{width:"120",prop:"account",label:"门店状态",filters:[{text:"正常",value:"正常"},{text:"封禁",value:"封禁"}],"filter-method":e.filterAccount,"filter-placement":"bottom-end"}}),a("el-table-column",{attrs:{width:"250",fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){e.updateShop(t.row._id)}}},[a("i",{staticClass:"el-icon-edit"}),e._v("修改")]),a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(a){e.unsealingShop(t.row)}}},[a("i",{staticClass:"el-icon-check"}),e._v("解封")]),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.prohibitionShop(t.row)}}},[a("i",{staticClass:"el-icon-close"}),e._v("封禁")])]}}])})],1)],1),a("el-pagination",{attrs:{"current-page":e.shopPagination.curpage,"page-sizes":[5,10,20,30],"page-size":e.shopPagination.eachpage,layout:"total, sizes, prev, pager, next, jumper",total:e.shopPagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},N=[],Y=(a("7f7f"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"修改信息",visible:e.close,width:"50%"},on:{"update:visible":function(t){e.close=t}}},[a("el-form",{ref:"updateShopForm",attrs:{model:e.store,rules:e.rules,"status-icon":"","label-width":"150px"}},[a("el-form-item",{attrs:{prop:"username",label:"用户名："}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),a("el-form-item",{attrs:{prop:"name",label:"店名："}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("el-form-item",{attrs:{label:"上传门店图片",prop:"img_head"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/upload","show-file-list":!1,"on-success":e.handleAvatarSuccessShop,"before-upload":e.beforeAvatarUploadShop}},[e.store.img_head?a("img",{staticClass:"avatar",attrs:{src:e.store.img_head}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{prop:"business_no",label:"营业执照号码："}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.business_no,callback:function(t){e.business_no=t},expression:"business_no"}})],1),a("el-form-item",{attrs:{label:"营业执照图片",prop:"business_lic"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/upload","show-file-list":!1,"on-success":e.handleAvatarSuccessBus,"before-upload":e.beforeAvatarUploadBus}},[e.store.business_lic?a("img",{staticClass:"avatar",attrs:{src:e.store.business_lic}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{prop:"legal_person",label:"法人："}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.legal_person,callback:function(t){e.legal_person=t},expression:"legal_person"}})],1),a("el-form-item",{attrs:{label:"营业地址:",prop:"addr"}},[a("el-input",{attrs:{autocomplete:"off"},on:{blur:e.getLocation},model:{value:e.addr,callback:function(t){e.addr=t},expression:"addr"}})],1),a("el-form-item",{attrs:{label:"经纬度:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.location,callback:function(t){e.location=t},expression:"location"}})],1),a("el-form-item",{attrs:{label:"所在城市",prop:"city"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}})],1),a("el-form-item",{attrs:{label:"联系电话：",prop:"tel"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.tel,callback:function(t){e.tel=t},expression:"tel"}})],1),a("el-form-item",{attrs:{label:"特色:",prop:"feature"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.feature,callback:function(t){e.feature=t},expression:"feature"}})],1),a("el-form-item",{attrs:{label:"网址:",prop:"website"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.website,callback:function(t){e.website=t},expression:"website"}})],1),a("el-form-item",{attrs:{label:"VIP等级:",prop:"vip"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.vip,callback:function(t){e.vip=t},expression:"vip"}})],1),a("el-form-item",{attrs:{label:"佣金比例:",prop:"commission_rate"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.commission_rate,callback:function(t){e.commission_rate=t},expression:"commission_rate"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.setUpdateShopVisible(!1)}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.updateShop}},[e._v("确 定")])],1)],1)],1)}),R=[],W=Object(b["a"])("platformModule"),J=W.mapState,Q=W.mapMutations,Z=W.mapActions,G={data:function(){return{rules:{id:[{required:!0,message:"请选择注册人",trigger:"blur"}],username:[{required:!0,message:"请输入你的名字"}],name:[{required:!0,message:"请输入你的店名"}],business_no:[{required:!0,message:"营业执照编号不能为空"}],addr:[{required:!0,message:"营业地址不能为空",trigger:"blur"}],city:[{required:!0,message:"所在城市不能为空"}],legal_person:[{required:!0,message:"法人姓名不能为空"}],feature:[{required:!0,message:"请填写门店特色"}],website:[{required:!0,message:"请填写门店特色"}],vip:[{required:!0,message:"请输入vip等级"}],commission_rate:[{required:!0,message:"佣金比例不能为空"}],tel:[{required:!0,message:"联系电话不能为空"},{pattern:/^[1]{1}[3,5,7,8,9]{1}[0-9]{9}$/,message:"请输入正确的手机号"}],business_lic:[{required:!0,message:"请上传营业执照",trigger:"blur"}],img_head:[{required:!0,message:"请上传门店图片",trigger:"blur"}]}}},computed:Object(f["a"])({},J(["store","updateShopVisible"]),{close:{get:function(){return this.updateShopVisible},set:function(){this.setUpdateShopVisible(!1)}},username:{get:function(){return this.store.username},set:function(e){this.$store.commit("platformModule/setStore",Object(f["a"])({},this.store,{username:e}))}},name:{get:function(){return this.store.name},set:function(e){this.$store.commit("platformModule/setStore",Object(f["a"])({},this.store,{name:e}))}},business_no:{get:function(){return this.store.business_no},set:function(e){this.$store.commit("platformModule/setStore",Object(f["a"])({},this.store,{business_no:e}))}},legal_person:{get:function(){return this.store.legal_person},set:function(e){this.$store.commit("platformModule/setStore",Object(f["a"])({},this.store,{legal_person:e}))}},addr:{get:function(){return this.store.addr},set:function(e){this.$store.commit("platformModule/setStore",Object(f["a"])({},this.store,{addr:e}))}},location:{get:function(){return this.store.location},set:function(e){this.$store.commit("platformModule/setStore",Object(f["a"])({},this.store,{location:e}))}},city:{get:function(){return this.store.city},set:function(e){this.$store.commit("platformModule/setStore",Object(f["a"])({},this.store,{city:e}))}},tel:{get:function(){return this.store.tel},set:function(e){this.$store.commit("platformModule/setStore",Object(f["a"])({},this.store,{tel:e}))}},feature:{get:function(){return this.store.feature},set:function(e){this.$store.commit("platformModule/setStore",Object(f["a"])({},this.store,{feature:e}))}},website:{get:function(){return this.store.website},set:function(e){this.$store.commit("platformModule/setStore",Object(f["a"])({},this.store,{website:e}))}},vip:{get:function(){return this.store.vip},set:function(e){this.$store.commit("platformModule/setStore",Object(f["a"])({},this.store,{vip:e}))}},commission_rate:{get:function(){return this.store.commission_rate},set:function(e){this.$store.commit("platformModule/setStore",Object(f["a"])({},this.store,{commission_rate:e}))}}}),methods:Object(f["a"])({},Z(["setStores"]),Q(["setUpdateShopVisible"]),{getLocation:function(){var e=this;v()({method:"get",url:"/platform/addr",params:{addr:this.store.addr}}).then(function(t){var a=t.data,s="".concat(a.result.location.lng),o="".concat(a.result.location.lat);e.store.location=s+","+o})},handleAvatarSuccessShop:function(e,t){this.store.img_head="/upload/"+e},beforeAvatarUploadShop:function(e){var t=e.size/1024/1024<2;if(!t)return this.$message.error("上传头像图片大小不能超过 2MB!"),t},handleAvatarSuccessBus:function(e,t){this.store.business_lic="/upload/"+e},beforeAvatarUploadBus:function(e){var t=e.size/1024/1024<2;if(!t)return this.$message.error("上传头像图片大小不能超过 2MB!"),t},updateShop:function(){var e=this;this.$refs.updateShopForm.validate(function(t){var a=e.store,s=a._id,o=a.username,r=a.name,i=a.img_head,l=a.business_no,n=a.business_lic,c=a.legal_person,u=a.addr,p=a.location,d=a.city,m=a.tel,f=a.feature,h=a.website,b=a.vip,g=a.commission_rate;t?v()({method:"put",url:"/platform/putShop/"+s,data:{username:o,name:r,img_head:i,business_no:l,business_lic:n,legal_person:c,addr:u,location:p,city:d,tel:m,feature:f,website:h,vip:b,commission_rate:g}}).then(function(){e.setStores(),e.setUpdateShopVisible(!1)}):e.$alert("输入信息有误，或不完整！！","消息")})}})},H=G,K=(a("762d"),Object(n["a"])(H,Y,R,!1,null,null,null));K.options.__file="updateStore.vue";var X=K.exports,ee=Object(b["a"])("platformModule"),te=ee.mapState,ae=ee.mapActions,se=ee.mapMutations,oe={components:{UptateStore:X},computed:Object(f["a"])({},te(["stores","shopPagination","shopSearch"])),data:function(){return{addDialogVisible:!1,regShoper:[],value:"",type:"",currentSize:"",addShopForm:{id:"",username:"",name:"",img_head:"",business_no:"",business_lic:"",legal_person:"",addr:"",location:"",city:"",tel:"",feature:"",website:"",vip:"",commission_rate:"",stuff:[]},rules:{id:[{required:!0,message:"请选择注册人",trigger:"blur"}],username:[{required:!0,message:"请输入你的名字"}],name:[{required:!0,message:"请输入你的店名"}],business_no:[{required:!0,message:"营业执照编号不能为空"}],addr:[{required:!0,message:"营业地址不能为空",trigger:"blur"}],city:[{required:!0,message:"所在城市不能为空"}],legal_person:[{required:!0,message:"法人姓名不能为空"}],feature:[{required:!0,message:"请填写门店特色"}],website:[{required:!0,message:"请填写门店特色"}],vip:[{required:!0,message:"请输入vip等级"}],commission_rate:[{required:!0,message:"佣金比例不能为空"}],tel:[{required:!0,message:"联系电话不能为空"},{pattern:/^[1]{1}[3,5,7,8,9]{1}[0-9]{9}$/,message:"请输入正确的手机号"}],business_lic:[{required:!0,message:"请上传营业执照",trigger:"blur"}],img_head:[{required:!0,message:"请上传门店图片",trigger:"blur"}]}}},created:function(){this.setStores()},methods:Object(f["a"])({},ae(["setStores","setStore"]),se(["setUpdateShopVisible","setShopSearch"]),{openAddDialog:function(){this.addDialogVisible=!0,this.findUserForShop()},unsealingShop:function(e){var t=this,a=e._id;"关闭"==e.account&&this.$confirm("此操作将同意此门店的解封, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){v()({method:"put",url:"/platform/putShop/"+a,data:{account:"正常"}}).then(function(){t.setStores(),t.$message({type:"success",message:"门店解封成功!"})})}).catch(function(){t.$message({type:"info",message:"已取消操作"})})},prohibitionShop:function(e){var t=this,a=e._id;"关闭"!=e.account&&this.$confirm("此操作将把此门店进行封禁, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){v()({method:"put",url:"/platform/putShop/"+a,data:{account:"关闭"}}).then(function(){t.setStores(),t.$message({type:"success",message:"门店封禁成功!"})})}).catch(function(){t.$message({type:"info",message:"已取消操作"})})},calcle:function(){this.addDialogVisible=!1,this.resetForm(),this.addShopForm.location=""},resetForm:function(){this.$refs.addShopForm.resetFields()},findUserForShop:function(){var e=this;v()({method:"get",url:"/platform/findUserForShop"}).then(function(t){var a=t.data;e.regShoper=a})},getLocation:function(){var e=this;v()({method:"get",url:"/platform/addr",params:{addr:this.addShopForm.addr}}).then(function(t){var a=t.data,s="".concat(a.result.location.lng),o="".concat(a.result.location.lat);e.addShopForm.location=s+","+o})},handleAvatarSuccessShop:function(e){this.addShopForm.img_head="/upload/"+e},beforeAvatarUploadShop:function(e){var t=e.size/1024/1024<2;if(!t)return this.$message.error("上传头像图片大小不能超过 2MB!"),t},handleAvatarSuccessBus:function(e){this.addShopForm.business_lic="/upload/"+e},beforeAvatarUploadBus:function(e){var t=e.size/1024/1024<2;if(!t)return this.$message.error("上传头像图片大小不能超过 2MB!"),t},addStore:function(){var e=this;this.$refs.addShopForm.validate(function(t){t?v()({method:"post",url:"/platform/addShop",data:{id:e.addShopForm.id,username:e.addShopForm.username,name:e.addShopForm.name,img_head:e.addShopForm.img_head,business_no:e.addShopForm.business_no,business_lic:e.addShopForm.business_lic,legal_person:e.addShopForm.legal_person,addr:e.addShopForm.addr,location:e.addShopForm.location,city:e.addShopForm.city,tel:e.addShopForm.tel,feature:e.addShopForm.feature,website:e.addShopForm.website,vip:e.addShopForm.vip,commission_rate:e.addShopForm.commission_rate,stuff:e.addShopForm.stuff,status:"待审核",account:"正常"}}).then(function(){e.setStores(),e.resetForm(),e.addDialogVisible=!1,e.addShopForm.location=""}):e.$alert("输入信息有误，或不完整！！","消息")})},updateShop:function(e){this.setStore(e),this.setUpdateShopVisible(!0)},clearFilter:function(){this.$refs.filterTable.clearFilter()},filterStatus:function(e,t){return t.status===e},filterAccount:function(e,t){return t.account===e},handleSizeChange:function(e){this.setStores({page:1,rows:e,type:this.shopSearch.type,value:this.shopSearch.value}),this.currentSize=e},handleCurrentChange:function(e){this.setStores({page:e,rows:this.currentSize,type:this.shopSearch.type,value:this.shopSearch.value})},searchBtn:function(){var e=this.type,t=this.value;this.setShopSearch({type:e,value:t}),this.setStores({page:1,rows:5,type:e,value:t})}})},re=oe,ie=(a("044bc"),Object(n["a"])(re,E,N,!1,null,"5fc5066c",null));ie.options.__file="index.vue";var le=ie.exports,ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-radio-group",{on:{change:e.showChart},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-radio-button",{attrs:{label:"销售额统计",border:""}}),a("el-radio-button",{attrs:{label:"销售额占比统计",border:""}}),a("el-radio-button",{attrs:{label:"各个城市门店分布图",border:""}})],1),a("div",{ref:"myChart",staticClass:"total",attrs:{id:"myChart"}})],1)},ce=[],ue=a("3eba"),pe=a.n(ue),de=(a("94b1"),a("c037"),a("15af"),a("007d"),a("627c"),a("d28f"),a("a00a"),{data:function(){return{type:"销售额统计"}},mounted:function(){var e=this;this.$nextTick(function(){e.showChart()})},methods:{showChart:function(){var e=this,t=pe.a.init(this.$refs.myChart);"销售额统计"==this.type||"销售额占比统计"==this.type||(v()({url:"/platform/counts",method:"get"}).then(function(a){e.shopsCountData=a.data,t.setOption(e.mapOptions,!0)}),t.on("finished",function(){var a=t.getModel().getComponent("bmap").getBMap();a.setMinZoom(5),a.addEventListener("zoomend",function(){var s=e.zoom;e.zoom=a.getZoom(),s<a.getZoom()&&10==a.getZoom()?v()({url:"/platform/city",method:"get"}).then(function(a){e.shopsData=a.data;var s=e.mapOptions;s.bmap.zoom=10,t.setOption(e.mapOptions,!1)}):s>a.getZoom()&&a.getZoom()<=10&&(e.shopsData=[],t.setOption(e.mapOptions,!1))})}))}},computed:{mapOptions:function(){return{title:{text:"全国门店统计",left:"center",textStyle:{color:"#fff"}},tooltip:{trigger:"item"},bmap:{center:[104.072259,30.663403],zoom:5,roam:!0,mapStyle:{styleJson:[{featureType:"water",elementType:"all",stylers:{color:"#044161"}},{featureType:"land",elementType:"all",stylers:{color:"#004981"}},{featureType:"boundary",elementType:"geometry",stylers:{color:"#064f85"}},{featureType:"railway",elementType:"all",stylers:{visibility:"off"}},{featureType:"highway",elementType:"geometry",stylers:{color:"#004981"}},{featureType:"highway",elementType:"geometry.fill",stylers:{color:"#005b96",lightness:1}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off"}},{featureType:"arterial",elementType:"geometry",stylers:{color:"#004981"}},{featureType:"arterial",elementType:"geometry.fill",stylers:{color:"#00508b"}},{featureType:"poi",elementType:"all",stylers:{visibility:"off"}},{featureType:"green",elementType:"all",stylers:{color:"#056197",visibility:"off"}},{featureType:"subway",elementType:"all",stylers:{visibility:"off"}},{featureType:"manmade",elementType:"all",stylers:{visibility:"on"}},{featureType:"local",elementType:"all",stylers:{visibility:"on"}},{featureType:"arterial",elementType:"labels",stylers:{visibility:"on"}},{featureType:"boundary",elementType:"geometry.fill",stylers:{color:"#029fd4"}},{featureType:"building",elementType:"all",stylers:{color:"#1a5787"}},{featureType:"city",elementType:"labels",stylers:{visibility:"off"}},{featureType:"district",elementType:"labels",stylers:{visibility:"off"}},{featureType:"town",elementType:"labels",stylers:{visibility:"off"}}]}},series:[{name:"门店数",type:"scatter",coordinateSystem:"bmap",data:this.shopsCountData,symbolSize:function(e){return 2*e[2]},itemStyle:{normal:{color:"#ddb926"}},tooltip:{formatter:function(e){return"城市："+e.data[3]+"<br>门店数："+e.data[2]}}},{name:"门店位置",type:"scatter",coordinateSystem:"bmap",data:this.shopsData,symbol:"pin",symbolSize:20,itemStyle:{normal:{color:"red"}},tooltip:{formatter:function(e){return"店铺名称："+e.data[2]+"<br>地址："+e.data[3]}}}]}}}}),me=de,fe=(a("6900"),Object(n["a"])(me,ne,ce,!1,null,"73bf9b80",null));fe.options.__file="index.vue";var he=fe.exports,ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.producers}},[a("el-table-column",{attrs:{label:"信息状态",prop:"status"}}),a("el-table-column",{attrs:{prop:"name",label:"公司名称",width:"120"}}),a("el-table-column",{attrs:{prop:"desc",label:"公司简介",width:"120"}}),a("el-table-column",{attrs:{prop:"corporate",label:"法定代表人",width:"120"}}),a("el-table-column",{attrs:{prop:"date",label:"成立日期",width:"120"}}),a("el-table-column",{attrs:{prop:"office",label:"登记机关",width:"120"}}),a("el-table-column",{attrs:{prop:"management",label:"经营范围",width:"120"}}),a("el-table-column",{attrs:{prop:"capital",label:"注册资本",width:"120"}}),a("el-table-column",{attrs:{prop:"No",label:"信用代码",width:"120"}}),a("el-table-column",{attrs:{prop:"addr",label:"所在地址",width:"120"}}),a("el-table-column",{attrs:{prop:"tel",label:"电话号码",width:"120"}}),a("el-table-column",{attrs:{prop:"website",label:"公司网站",width:"120"}}),a("el-table-column",{attrs:{prop:"license",label:"营业执照",width:"120"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{attrs:{src:"/upload/"+e.row.license,"min-width":"70",height:"70"}})]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.showById(t.row._id)}}},[e._v("修改")])]}}])})],1),a("el-dialog",{attrs:{title:"修改供应商信息",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"updateForm",attrs:{model:e.producer,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"公司名称"}},[a("el-input",{model:{value:e.producer.name,callback:function(t){e.$set(e.producer,"name",t)},expression:"producer.name"}})],1),a("el-form-item",{attrs:{label:"公司简介"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.producer.desc,callback:function(t){e.$set(e.producer,"desc",t)},expression:"producer.desc"}})],1),a("el-form-item",{attrs:{label:"法定代表人"}},[a("el-input",{model:{value:e.producer.corporate,callback:function(t){e.$set(e.producer,"corporate",t)},expression:"producer.corporate"}})],1),a("el-form-item",{attrs:{label:"成立日期"}},[a("el-input",{model:{value:e.producer.date,callback:function(t){e.$set(e.producer,"date",t)},expression:"producer.date"}})],1),a("el-form-item",{attrs:{label:"登记机关"}},[a("el-input",{model:{value:e.producer.office,callback:function(t){e.$set(e.producer,"office",t)},expression:"producer.office"}})],1),a("el-form-item",{attrs:{label:"经营范围"}},[a("el-input",{model:{value:e.producer.management,callback:function(t){e.$set(e.producer,"management",t)},expression:"producer.management"}})],1),a("el-form-item",{attrs:{label:"注册资本"}},[a("el-input",{model:{value:e.producer.capital,callback:function(t){e.$set(e.producer,"capital",t)},expression:"producer.capital"}})],1),a("el-form-item",{attrs:{label:"信用代码"}},[a("el-input",{model:{value:e.producer.No,callback:function(t){e.$set(e.producer,"No",t)},expression:"producer.No"}})],1),a("el-form-item",{attrs:{label:"所在地址"}},[a("el-input",{model:{value:e.producer.addr,callback:function(t){e.$set(e.producer,"addr",t)},expression:"producer.addr"}})],1),a("el-form-item",{attrs:{label:"电话号码"}},[a("el-input",{model:{value:e.producer.tel,callback:function(t){e.$set(e.producer,"tel",t)},expression:"producer.tel"}})],1),a("el-form-item",{attrs:{label:"公司网站"}},[a("el-input",{model:{value:e.producer.website,callback:function(t){e.$set(e.producer,"website",t)},expression:"producer.website"}})],1),a("el-form-item",{attrs:{label:"营业执照"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/upload","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.producer.license?a("img",{staticClass:"avatar",attrs:{src:"/upload/"+e.producer.license}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.updateInformation}},[e._v("确 定")])],1)],1)],1)},be=[],ge={data:function(){return{producers:[],producer:{},dialogVisible:!1,isActive:!0,hasError:!1,centerDialogVisible:!1,userId:""}},created:function(){this.getuserId()},methods:{update:function(){this.centerDialogVisible=!1,this.isActive=!1,this.hasError=!0},show:function(){var e=this;v()({method:"get",url:"/supplier/info",params:{id:this.userId}}).then(function(t){var a=t.data;e.producers=a})},getuserId:function(){var e=this;v()({method:"get",url:"/users/getSession"}).then(function(t){var a=t.data;e.userId=a._id,e.show()})},showById:function(e){var t=this;this.dialogVisible=!0,v()({method:"get",url:"/supplier/supplierInfo/"+e}).then(function(e){var a=e.data;t.producer=a})},updateInformation:function(){var e=this;this.dialogVisible=!1;var t=this.producer,a=t.name,s=t.desc,o=t.corporate,r=t.date,i=t.office,l=t.management,n=t.capital,c=t.No,u=t.addr,p=t.tel,d=t.website,m=t.license;v()({method:"put",url:"/supplier/updateinfo/"+this.producer._id,data:{name:a,desc:s,corporate:o,date:r,office:i,management:l,capital:n,No:c,addr:u,tel:p,website:d,status:"待审核",license:m}}).then(function(){e.show()})},handleAvatarSuccess:function(e){this.producer.license=e},beforeAvatarUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("上传头像图片大小不能超过 2MB!"),t}}},ye=ge,_e=(a("4458"),Object(n["a"])(ye,ve,be,!1,null,"4f62f1e8",null));_e.options.__file="index.vue";var Se=_e.exports,xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("OrderUpdate"),a("OrderSearch"),a("OrderList"),a("OrderPage")],1)},we=[],Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{label:"订单状态",width:"80",prop:"state"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.state?a("el-tag",[e._v("未付款")]):1==t.row.state?a("el-tag",{attrs:{type:"danger"}},[e._v("已付款")]):2==t.row.state?a("el-tag",{attrs:{type:"warning"}},[e._v("待发货")]):3==t.row.state?a("el-tag",{attrs:{type:"info"}},[e._v("已发货")]):4==t.row.state?a("el-tag",{attrs:{type:"success"}},[e._v("已签收")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"订单编号",width:"220",prop:"_id"}}),a("el-table-column",{attrs:{label:"价格",width:"60",prop:"price"}}),a("el-table-column",{attrs:{label:"数量",width:"60",prop:"allNumber"}}),a("el-table-column",{attrs:{label:"购买人",width:"70",prop:"user"}}),a("el-table-column",{attrs:{label:"联系电话",width:"120",prop:"phone"}}),a("el-table-column",{attrs:{label:"商品详情",width:"80",prop:"goods"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[e._l(t.row.goods,function(t,s){return a("div",{key:s},[a("div",[a("p",[e._v("**商品"+e._s(s+1)+"**")]),a("p",[e._v("名称: "+e._s(t.name))]),a("p",[e._v("类型: "+e._s(t.type))])])])}),a("div",{staticClass:"name-wrapper find",attrs:{slot:"reference"},slot:"reference"},[a("p",{attrs:{size:"medium"}},[e._v("查看")])])],2)]}}])}),a("el-table-column",{attrs:{label:"地址",width:"160",prop:"addr"}}),a("el-table-column",{attrs:{label:"下单时间",width:"110",prop:"buyTime"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(a){e.updateOrder(t.row._id)}}},[e._v("修改")]),2==t.row.state?a("span",{staticClass:"shipBtn"},[a("el-button",{attrs:{type:"danger",round:"",size:"mini"},on:{click:function(a){e.shipBtn(t.row._id)}}},[e._v("发货")])],1):e._e()]}}])})],1)},ke=[],Pe=Object(b["a"])("orderModules"),Oe=Pe.mapState,$e=Pe.mapActions,De=Pe.mapMutations,Ie={computed:Object(f["a"])({},Oe(["data","dialogVisible"])),created:function(){},methods:Object(f["a"])({},$e(["getOrders","setOrderInfo"]),De(["setUpdateVisible"]),{updateOrder:function(e){this.setOrderInfo(e),this.setUpdateVisible(!0)},shipBtn:function(e){var t=this;this.setOrderInfo(e),v()({method:"put",url:"/orders/"+e,data:{state:3}}).then(function(){t.getOrders()})}})},Ce=Ie,Te=(a("235f"),Object(n["a"])(Ce,Fe,ke,!1,null,"762d79f2",null));Te.options.__file="OrderList.vue";var je=Te.exports,Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-pagination",{attrs:{"current-page":e.pagination.curpage,"page-sizes":[5,10,20,30],"page-size":e.pagination.eachpage,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},Ae=[],Me=Object(b["a"])("orderModules"),Ue=Me.mapState,ze=Me.mapActions,Be={data:function(){return{currentSize:""}},computed:Object(f["a"])({},Ue(["pagination","search"])),methods:Object(f["a"])({},ze(["getOrders"]),{handleSizeChange:function(e){this.getOrders({page:1,rows:e,type:this.search.type,value:this.search.value}),this.currentSize=e},handleCurrentChange:function(e){this.getOrders({page:e,rows:this.currentSize,type:this.search.type,value:this.search.value})}})},qe=Be,Le=(a("fc02"),Object(n["a"])(qe,Ve,Ae,!1,null,null,null));Le.options.__file="OrderPage.vue";var Ee=Le.exports,Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"修改",visible:e.closeDialogVisible,width:"30%"},on:{"update:visible":function(t){e.closeDialogVisible=t}}},[a("el-form",{ref:"updateFrom",staticClass:"demo-ruleForm",attrs:{model:e.updateInfo,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"订单状态",prop:"state"}},[0==e.updateInfo.state?a("el-input",{attrs:{type:"text",value:"未付款",autocomplete:"off",disabled:!0}}):1==e.updateInfo.state?a("el-input",{attrs:{type:"text",value:"已付款",autocomplete:"off",disabled:!0}}):2==e.updateInfo.state?a("el-input",{attrs:{type:"text",value:"待发货",autocomplete:"off",disabled:!0}}):3==e.updateInfo.state?a("el-input",{attrs:{type:"text",value:"已发货",autocomplete:"off",disabled:!0}}):4==e.updateInfo.state?a("el-input",{attrs:{type:"text",value:"已签收",autocomplete:"off",disabled:!0}}):e._e()],1),a("el-form-item",{attrs:{label:"姓名",prop:"user"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.updateInfo.user,callback:function(t){e.$set(e.updateInfo,"user",t)},expression:"updateInfo.user"}})],1),a("el-form-item",{attrs:{label:"收件地址",prop:"addr"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.updateInfo.addr,callback:function(t){e.$set(e.updateInfo,"addr",t)},expression:"updateInfo.addr"}})],1),a("el-form-item",{attrs:{label:"电话",prop:"phone"}},[a("el-input",{model:{value:e.updateInfo.phone,callback:function(t){e.$set(e.updateInfo,"phone",t)},expression:"updateInfo.phone"}})],1),a("el-form-item",{attrs:{label:"价格",prop:"price"}},[a("el-input",{model:{value:e.updateInfo.price,callback:function(t){e.$set(e.updateInfo,"price",t)},expression:"updateInfo.price"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleCancle}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("updateFrom")}}},[e._v("确 定")])],1)],1)},Ye=[],Re=Object(b["a"])("orderModules"),We=Re.mapState,Je=Re.mapActions,Qe=Re.mapMutations,Ze={data:function(){return{rules:{user:[{required:!0,message:"姓名不能为空"}],addr:[{required:!0,message:"地址不能为空"}],price:[{required:!0,message:"价格不能为空"}],phone:[{required:!0,message:"电话不能为空"}]}}},computed:Object(f["a"])({},We(["updateInfo","dialogVisible"]),{closeDialogVisible:{get:function(){return this.dialogVisible},set:function(){this.setUpdateVisible(!1)}}}),methods:Object(f["a"])({},Qe(["setUpdateVisible","setOrderInfo"]),Je(["getOrders"]),{handleCancle:function(){this.setUpdateVisible(!1)},handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return alert("请填写完整信息"),!1;v()({method:"put",url:"/orders/"+t.updateInfo._id,data:{user:t.updateInfo.user,addr:t.updateInfo.addr,price:t.updateInfo.price,phone:t.updateInfo.phone}}).then(function(){t.getOrders(),t.setUpdateVisible(!1)})})}})},Ge=Ze,He=(a("97d8"),Object(n["a"])(Ge,Ne,Ye,!1,null,"e5e823b4",null));He.options.__file="OrderUpdate.vue";var Ke=He.exports,Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-search"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-option",{attrs:{label:"手机号",value:"phone"}}),a("el-option",{attrs:{label:"姓名",value:"user"}}),a("el-option",{attrs:{label:"订单编号",value:"_id"}})],1),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchBtn},slot:"append"})],1)],1)},et=[],tt=Object(b["a"])("orderModules"),at=tt.mapActions,st=tt.mapMutations,ot={data:function(){return{value:"",type:""}},methods:Object(f["a"])({},at(["getOrders"]),st(["setSearch"]),{searchBtn:function(){var e=this.type,t=this.value;this.setSearch({type:e,value:t}),this.getOrders({page:1,rows:5,type:e,value:t})}})},rt=ot,it=(a("57c5"),Object(n["a"])(rt,Xe,et,!1,null,null,null));it.options.__file="OrderSearch.vue";var lt=it.exports,nt=Object(b["a"])("orderModules"),ct=nt.mapActions,ut={components:{OrderList:je,OrderPage:Ee,OrderUpdate:Ke,OrderSearch:lt},created:function(){this.getOrders()},methods:Object(f["a"])({},ct(["getOrders"]))},pt=ut,dt=(a("d9e2"),Object(n["a"])(pt,xe,we,!1,null,null,null));dt.options.__file="index.vue";var mt=dt.exports,ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("AddProducts"),a("AddSuplierPro"),a("SearchProducts"),a("UpdateProducts"),a("ProductsList"),a("PageProducts")],1)},ht=[],vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%",textalign:"center",height:"80"},attrs:{data:e.products}},[a("el-table-column",{attrs:{prop:"name",label:"品牌",width:"100"}}),a("el-table-column",{attrs:{prop:"type",label:"品类"}}),a("el-table-column",{attrs:{prop:"makings",label:"材质",width:"160"}}),a("el-table-column",{attrs:{prop:"spec",label:"使用规格",width:"120"}}),a("el-table-column",{attrs:{prop:"suit",label:"专属规格"}}),a("el-table-column",{attrs:{prop:"weight",label:"包装规格",width:"160"}}),a("el-table-column",{attrs:{prop:"taste",label:"口味"}}),a("el-table-column",{attrs:{prop:"effect",label:"特殊功用",width:"120"}}),a("el-table-column",{attrs:{prop:"addr",label:"产地"}}),a("el-table-column",{attrs:{prop:"pro_date",label:"生产日期",width:"120"}}),a("el-table-column",{attrs:{prop:"valid_date",label:"保质期"}}),a("el-table-column",{attrs:{prop:"No",label:"供应商编号",width:"120"}}),a("el-table-column",{attrs:{prop:"desc",label:"特色说明"}}),a("el-table-column",{attrs:{prop:"price",label:"价格"}}),a("el-table-column",{attrs:{prop:"number",label:"数量",width:"120"}}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.showById(t.row._id)}}},[e._v("查看/编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.delProducts(t.row._id)}}},[e._v("删除")])]}}])})],1)],1)},bt=[],gt=Object(b["a"])("productsMoudles"),yt=gt.mapState,_t=gt.mapMutations,St=gt.mapActions,xt={props:[],computed:Object(f["a"])({},yt(["products"])),methods:Object(f["a"])({},_t(["setupdateVisible"]),St(["setProducts","setProduct","getSession"]),{delProducts:function(e){var t=this;v()({method:"delete",url:"/sopPropducts/"+e}).then(function(){t.setProducts()})},showById:function(e){this.setupdateVisible(!0),this.setProduct(e)}}),created:function(){this.setProducts(),this.getSession()}},wt=xt,Ft=(a("d315"),Object(n["a"])(wt,vt,bt,!1,null,null,null));Ft.options.__file="productsList.vue";var kt=Ft.exports,Pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"left"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("新增商品")]),a("el-dialog",{attrs:{title:"新增门店商品",visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"addForm",staticClass:"demo-addForm",attrs:{"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"品牌:",prop:"name"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"品类:",prop:"type"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addForm.type,callback:function(t){e.$set(e.addForm,"type",t)},expression:"addForm.type"}})],1),a("el-form-item",{attrs:{label:"材质:",prop:"makings"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addForm.makings,callback:function(t){e.$set(e.addForm,"makings",t)},expression:"addForm.makings"}})],1),a("el-form-item",{attrs:{label:"使用规格:",prop:"spec"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addForm.spec,callback:function(t){e.$set(e.addForm,"spec",t)},expression:"addForm.spec"}})],1),a("el-form-item",{attrs:{label:"专属规格:",prop:"suit"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addForm.suit,callback:function(t){e.$set(e.addForm,"suit",t)},expression:"addForm.suit"}})],1),a("el-form-item",{attrs:{label:"包装规格:",prop:"weight"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addForm.weight,callback:function(t){e.$set(e.addForm,"weight",t)},expression:"addForm.weight"}})],1),a("el-form-item",{attrs:{label:"口味:",prop:"taste"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addForm.taste,callback:function(t){e.$set(e.addForm,"taste",t)},expression:"addForm.taste"}})],1),a("el-form-item",{attrs:{label:"特殊功用:",prop:"effect"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addForm.effect,callback:function(t){e.$set(e.addForm,"effect",t)},expression:"addForm.effect"}})],1),a("el-form-item",{attrs:{label:"产地:",prop:"addr"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addForm.addr,callback:function(t){e.$set(e.addForm,"addr",t)},expression:"addForm.addr"}})],1),a("el-form-item",{attrs:{label:"生产日期:",prop:"pro_date"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.addForm.pro_date,callback:function(t){e.$set(e.addForm,"pro_date",t)},expression:"addForm.pro_date"}})],1),a("el-form-item",{attrs:{label:"保质期:",prop:"valid_date"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addForm.valid_date,callback:function(t){e.$set(e.addForm,"valid_date",t)},expression:"addForm.valid_date"}})],1),a("el-form-item",{attrs:{label:"供应商编号:",prop:"No"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addForm.age,callback:function(t){e.$set(e.addForm,"age",t)},expression:"addForm.age"}})],1),a("el-form-item",{attrs:{label:"特色说明:",prop:"desc"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addForm.desc,callback:function(t){e.$set(e.addForm,"desc",t)},expression:"addForm.desc"}})],1),a("el-form-item",{attrs:{label:"价格:",prop:"price"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addForm.price,callback:function(t){e.$set(e.addForm,"price",t)},expression:"addForm.price"}})],1),a("el-form-item",{attrs:{label:"数量:",prop:"number"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addForm.number,callback:function(t){e.$set(e.addForm,"number",t)},expression:"addForm.number"}})],1)],1),a("el-upload",{attrs:{action:"/upload","list-type":"picture-card","on-success":e.handleAvatarSuccess,"on-preview":e.handlePictureCardPreview}},[a("i",{staticClass:"el-icon-plus"})]),a("img",{attrs:{width:"100%",img:e.dialogImageUrl,alt:""}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addPro}},[e._v("确 定")])],1)],1)],1)},Ot=[],$t=a("f499"),Dt=a.n($t),It=Object(b["a"])("productsMoudles"),Ct=It.mapActions,Tt=It.mapState,jt={data:function(){return{addForm:{name:"",type:"",makings:"",spec:"",suit:"",weight:"",taste:"",effect:"",addr:"",pro_date:"",valid_date:"",No:"",desc:"",price:"",number:""},img:[],dialogImageUrl:"",dialogVisible:!1}},computed:Object(f["a"])({},Tt(["shopId","userId"])),methods:Object(f["a"])({},Object(b["d"])(["setShopId"]),Ct(["setProducts","getSession"]),{addPro:function(){var e=this,t=this.addForm,a=t.name,s=t.type,o=t.makings,r=t.spec,i=t.suit,l=t.weight,n=t.taste,c=t.effect,u=t.addr,p=t.pro_date,d=t.valid_date,m=t.No,f=t.desc,h=t.price,b=t.number;v()({method:"get",url:"/shop",params:{userId:this.userId}}).then(function(t){var g=t.data;"封禁"==g[0].account?alert("门店已被封，暂时不能添加商品哦"):v()({method:"post",url:"/sopPropducts",data:{name:a,type:s,makings:Dt()(o),spec:Dt()(r),suit:Dt()(i),weight:Dt()(l),taste:Dt()(n),effect:Dt()(c),addr:u,pro_date:p,valid_date:d,No:m,desc:f,price:h,img:Dt()(e.img),number:b,shopId:e.shopId}}).then(function(){e.dialogVisible=!1,e.setProducts()})}).then(function(){e.dialogVisible=!1,e.setProducts()})},handleRemove:function(){},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleAvatarSuccess:function(e){this.img.push("/upload/"+e)}})},Vt=jt,At=(a("ca36"),Object(n["a"])(Vt,Pt,Ot,!1,null,"0e98fd09",null));At.options.__file="AddProducts.vue";var Mt=At.exports,Ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"编辑商品",visible:e.closeUpdateVisible,width:"40%"},on:{"update:visible":function(t){e.closeUpdateVisible=t}}},[a("el-form",{ref:"updateForm",staticClass:"demo-updateForm",attrs:{"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"品牌:",prop:"name"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.product.name,callback:function(t){e.$set(e.product,"name",t)},expression:"product.name"}})],1),a("el-form-item",{attrs:{label:"品类:",prop:"type"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.product.type,callback:function(t){e.$set(e.product,"type",t)},expression:"product.type"}})],1),a("el-form-item",{attrs:{label:"材质:",prop:"makings"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.product.makings,callback:function(t){e.$set(e.product,"makings",t)},expression:"product.makings"}})],1),a("el-form-item",{attrs:{label:"使用规格:",prop:"spec"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.product.spec,callback:function(t){e.$set(e.product,"spec",t)},expression:"product.spec"}})],1),a("el-form-item",{attrs:{label:"专属规格:",prop:"suit"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.product.suit,callback:function(t){e.$set(e.product,"suit",t)},expression:"product.suit"}})],1),a("el-form-item",{attrs:{label:"包装规格:",prop:"weight"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.product.weight,callback:function(t){e.$set(e.product,"weight",t)},expression:"product.weight"}})],1),a("el-form-item",{attrs:{label:"口味:",prop:"taste"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.product.taste,callback:function(t){e.$set(e.product,"taste",t)},expression:"product.taste"}})],1),a("el-form-item",{attrs:{label:"特殊功用:",prop:"effect"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.product.effect,callback:function(t){e.$set(e.product,"effect",t)},expression:"product.effect"}})],1),a("el-form-item",{attrs:{label:"产地:",prop:"addr"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.product.addr,callback:function(t){e.$set(e.product,"addr",t)},expression:"product.addr"}})],1),a("el-form-item",{attrs:{label:"生产日期:",prop:"pro_date"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.product.pro_date,callback:function(t){e.$set(e.product,"pro_date",t)},expression:"product.pro_date"}})],1),a("el-form-item",{attrs:{label:"保质期:",prop:"valid_date"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.product.valid_date,callback:function(t){e.$set(e.product,"valid_date",t)},expression:"product.valid_date"}})],1),a("el-form-item",{attrs:{label:"供应商编号:",prop:"No"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.product.No,callback:function(t){e.$set(e.product,"No",t)},expression:"product.No"}})],1),a("el-form-item",{attrs:{label:"特色说明:",prop:"desc"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.product.desc,callback:function(t){e.$set(e.product,"desc",t)},expression:"product.desc"}})],1),a("el-form-item",{attrs:{label:"价格:",prop:"price"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.product.price,callback:function(t){e.$set(e.product,"price",t)},expression:"product.price"}})],1),a("el-form-item",{attrs:{label:"数量:",prop:"number"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.product.number,callback:function(t){e.$set(e.product,"number",t)},expression:"product.number"}})],1)],1),a("el-upload",{attrs:{action:"/upload","file-list":e.product.img,"on-success":e.handleAvatarSuccess,"on-remove":e.handleRemove,"list-type":"picture-card"}},[a("i",{staticClass:"el-icon-plus"})]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.setupdateVisible(!1)}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.updatePro}},[e._v("确 定")])],1)],1)],1)},zt=[],Bt=Object(b["a"])("productsMoudles"),qt=Bt.mapActions,Lt=Bt.mapMutations,Et=Bt.mapState,Nt={data:function(){return{dialogImageUrl:"",dialogVisible:!1}},computed:Object(f["a"])({},Et(["product","updateVisible"]),{closeUpdateVisible:{get:function(){return this.updateVisible},set:function(){this.setupdateVisible(!1)}}}),methods:Object(f["a"])({},qt(["setProducts"]),Lt(["setupdateVisible"]),{updatePro:function(){var e=this,t=this.product,a=t.name,s=t.type,o=t.makings,r=t.spec,i=t.suit,l=t.weight,n=t.taste,c=t.effect,u=t.addr,p=t.pro_date,d=t.valid_date,m=t.No,f=t.desc,h=t.price,b=t.img,g=t.number;v()({method:"put",url:"/sopPropducts/"+this.product._id,data:{name:a,type:s,makings:o,spec:r,suit:i,weight:l,taste:n,effect:c,addr:u,pro_date:p,valid_date:d,No:m,desc:f,price:h,img:b,number:g}}).then(function(){e.setProducts(),e.setupdateVisible(!1)})},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleRemove:function(e){var t=this.img;for(var a in t)if(t[a].uid==e.uid){t.splice(a,1);break}this.img=t},handleAvatarSuccess:function(e){this.img.push("http://127.0.0.1:3000/upload/"+e)}})},Yt=Nt,Rt=(a("4e83"),Object(n["a"])(Yt,Ut,zt,!1,null,"92a0e9d8",null));Rt.options.__file="UpdateProducts.vue";var Wt=Rt.exports,Jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"margin"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("el-select",{staticClass:"select",attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-option",{attrs:{label:"品牌",value:"name"}}),a("el-option",{attrs:{label:"品类",value:"type"}}),a("el-option",{attrs:{label:"特殊功用",value:"effect"}})],1),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"})],1)],1)},Qt=[],Zt=Object(b["a"])("productsMoudles"),Gt=Zt.mapActions,Ht=Zt.mapMutations,Kt=Zt.mapState,Xt={data:function(){return{type:"",value:""}},computed:Object(f["a"])({},Kt(["shopId"])),methods:Object(f["a"])({},Ht(["setSearch"]),Gt(["setProducts"]),{search:function(){this.setProducts({page:1,rows:5,type:this.type,value:this.value,shopId:this.shopId}),this.setSearch({type:this.type,value:this.value,shopId:this.shopId})}})},ea=Xt,ta=(a("af83"),Object(n["a"])(ea,Jt,Qt,!1,null,"76208ee8",null));ta.options.__file="SearchProducts.vue";var aa=ta.exports,sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-pagination",{attrs:{layout:"prev, pager, next,total,sizes,jumper",total:e.pagination.total,"page-size":e.pagination.eachpage,"page-sizes":[5,10,20]},on:{"current-change":e.changePage,"size-change":e.changeSize}})},oa=[],ra=Object(b["a"])("productsMoudles"),ia=ra.mapActions,la=ra.mapState,na=ra.mapMutations,ca={data:function(){return{pagesize:""}},computed:Object(f["a"])({},la(["pagination","search","id"])),methods:Object(f["a"])({},ia(["setProducts"]),na(["setPagination"]),{changePage:function(e){this.setProducts({page:e,rows:this.pagesize,type:this.search.type,value:this.search.value})},changeSize:function(e){this.pagesize=e,this.setProducts({page:1,rows:e,type:this.search.type,value:this.search.value})}})},ua=ca,pa=(a("990c"),Object(n["a"])(ua,sa,oa,!1,null,null,null));pa.options.__file="PageProducts.vue";var da=pa.exports,ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加供应商商品")]),a("el-dialog",{attrs:{title:"供应商商品",visible:e.dialogVisible,width:"100%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-table",{staticStyle:{width:"100%",textalign:"center",height:"80"},attrs:{data:e.supProducts}},[a("el-table-column",{attrs:{prop:"name",label:"品牌",width:"100"}}),a("el-table-column",{attrs:{prop:"type",label:"品类"}}),a("el-table-column",{attrs:{prop:"makings",label:"材质",width:"160"}}),a("el-table-column",{attrs:{prop:"spec",label:"使用规格",width:"120"}}),a("el-table-column",{attrs:{prop:"suit",label:"专属规格"}}),a("el-table-column",{attrs:{prop:"weight",label:"包装规格",width:"160"}}),a("el-table-column",{attrs:{prop:"taste",label:"口味"}}),a("el-table-column",{attrs:{prop:"effect",label:"特殊功用",width:"120"}}),a("el-table-column",{attrs:{prop:"addr",label:"产地"}}),a("el-table-column",{attrs:{prop:"pro_date",label:"生产日期",width:"120"}}),a("el-table-column",{attrs:{prop:"valid_date",label:"保质期"}}),a("el-table-column",{attrs:{prop:"No",label:"供应商编号",width:"120"}}),a("el-table-column",{attrs:{prop:"desc",label:"特色说明"}}),a("el-table-column",{attrs:{prop:"price",label:"价格"}}),a("el-table-column",{attrs:{prop:"inventory",label:"数量",width:"120"}}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"middle"},on:{click:function(a){e.postSupPro(t.row._id)}}},[e._v("添加该商品")])]}}])})],1),a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")])],1)],1)},fa=[],ha=Object(b["a"])("productsMoudles"),va=ha.mapState,ba=ha.mapActions,ga={data:function(){return{dialogVisible:!1,number:1}},props:[],computed:Object(f["a"])({},va(["supProducts","shopId"])),methods:Object(f["a"])({handleChange:function(){}},ba(["setSupProducts","setProducts"]),{postSupPro:function(e){var t=this;v()({method:"get",url:"/supPro/"+e}).then(function(e){var a=e.data;v()({method:"post",url:"/sopPropducts",data:{data:a,number:t.number,shopId:t.shopId}}).then(function(){t.$message({showClose:!0,message:"添加成功",type:"success"}),t.setProducts()})})}}),created:function(){this.setSupProducts()}},ya=ga,_a=(a("723d"),Object(n["a"])(ya,ma,fa,!1,null,null,null));_a.options.__file="AddSuplierPro.vue";var Sa=_a.exports,xa=Object(b["a"])("productsMoudles"),wa=xa.mapActions,Fa={components:{ProductsList:kt,AddProducts:Mt,UpdateProducts:Wt,SearchProducts:aa,PageProducts:da,AddSuplierPro:Sa},data:function(){return{products:[],pagination:{},type:"",value:""}},methods:Object(f["a"])({},wa(["setProducts","getSession"])),created:function(){this.getSession()}},ka=Fa,Pa=(a("7d53"),Object(n["a"])(ka,ft,ht,!1,null,null,null));Pa.options.__file="index.vue";var Oa=Pa.exports,$a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{attrs:{plain:""},on:{click:e.add}},[e._v("新增")]),a("Add"),a("el-table",{staticStyle:{width:"100%","text-align":"center",height:"100%"},attrs:{data:e.products,height:"250",border:""}},[a("el-table-column",{attrs:{prop:"name",label:"产品"}}),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),a("el-table-column",{attrs:{prop:"weight",label:"重量"}}),a("el-table-column",{attrs:{prop:"makings",label:"成分"}}),a("el-table-column",{attrs:{prop:"suit",label:"适用"}}),a("el-table-column",{attrs:{prop:"effect",label:"功效"}}),a("el-table-column",{attrs:{prop:"addr",label:"产地"}}),a("el-table-column",{attrs:{prop:"pro_date",label:"生产日期"}}),a("el-table-column",{attrs:{prop:"valid_date",label:"有效期"}}),a("el-table-column",{attrs:{prop:"price",label:"价格"}}),a("el-table-column",{attrs:{prop:"desc",label:"介绍"}}),a("el-table-column",{attrs:{prop:"img",label:"图片"}}),a("el-table-column",{attrs:{prop:"inventory",label:"库存"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.updateProduct(t.row._id)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.deleteProduct(t.row._id)}}},[e._v("删除")])]}}])})],1)],1)},Da=[],Ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.title.name,visible:e.dialogVisible.visible},on:{"update:visible":function(t){e.$set(e.dialogVisible,"visible",t)}}},[a("el-form",{ref:"Form",attrs:{model:e.product}},[a("el-form-item",{attrs:{label:"产品",prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.product.name,callback:function(t){e.$set(e.product,"name",t)},expression:"product.name"}})],1),a("el-form-item",{attrs:{label:"品类",prop:"type"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.product.type,callback:function(t){e.$set(e.product,"type",t)},expression:"product.type"}})],1),a("el-form-item",{attrs:{label:"成分",prop:"makings"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.product.makings,callback:function(t){e.$set(e.product,"makings",t)},expression:"product.makings"}})],1),a("el-form-item",{attrs:{label:"适用",prop:"spec"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.product.spec,callback:function(t){e.$set(e.product,"spec",t)},expression:"product.spec"}})],1),a("el-form-item",{attrs:{label:"适用品种",prop:"suit"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.product.suit,callback:function(t){e.$set(e.product,"suit",t)},expression:"product.suit"}})],1),a("el-form-item",{attrs:{label:"口味",prop:"taste"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.product.taste,callback:function(t){e.$set(e.product,"taste",t)},expression:"product.taste"}})],1),a("el-form-item",{attrs:{label:"功效",prop:"effrct"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.product.effect,callback:function(t){e.$set(e.product,"effect",t)},expression:"product.effect"}})],1),a("el-form-item",{attrs:{label:"生产日期",prop:"pro_date"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.product.pro_date,callback:function(t){e.$set(e.product,"pro_date",t)},expression:"product.pro_date"}})],1),a("el-form-item",{attrs:{label:"有效期",prop:"valid_date"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.product.valid_date,callback:function(t){e.$set(e.product,"valid_date",t)},expression:"product.valid_date"}})],1),a("el-form-item",{attrs:{label:"生产批号",prop:"No"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.product.No,callback:function(t){e.$set(e.product,"No",t)},expression:"product.No"}})],1),a("el-form-item",{attrs:{label:"介绍",prop:"desc"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.product.desc,callback:function(t){e.$set(e.product,"desc",t)},expression:"product.desc"}})],1),a("el-form-item",{attrs:{label:"价格",prop:"price"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.product.price,callback:function(t){e.$set(e.product,"price",t)},expression:"product.price"}})],1),a("Upload"),a("el-form-item",{attrs:{label:"库存",prop:"inventory"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.product.inventory,callback:function(t){e.$set(e.product,"inventory",t)},expression:"product.inventory"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelDialog(!1)}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.test(!1)}}},[e._v("确 定")])],1)],1)],1)},Ca=[],Ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-upload",{attrs:{action:"/upload","list-type":"picture-card","on-remove":e.handleRemove,multiple:"","on-success":e.test,"file-list":e.product.img}},[a("i",{staticClass:"el-icon-plus"})])],1)},ja=[],Va=Object(b["a"])("SupProducts"),Aa=Va.mapState,Ma=Va.mapMutations,Ua=(window.location.host,{computed:Object(f["a"])({},Aa(["product"])),methods:Object(f["a"])({},Ma(["adddialogImageUrls","setUrl","removedialogImageUrls"]),{handleRemove:function(e,t){console.log(e.url),this.removedialogImageUrls({url:e.url})},test:function(e){console.log(e),this.adddialogImageUrls("/upload/"+e)}})}),za=Ua,Ba=(a("f01d"),Object(n["a"])(za,Ta,ja,!1,null,null,null));Ba.options.__file="upload.vue";var qa=Ba.exports,La=Object(b["a"])("SupProducts"),Ea=La.mapState,Na=La.mapMutations,Ya=La.mapActions,Ra={name:"Add",components:{Upload:qa},computed:Object(f["a"])({},Ea(["dialogVisible","product","title"])),created:function(){},methods:Object(f["a"])({},Na(["setDialogVisible","setProduct"]),Ya(["getProduct","updateProduct","addProduct","setProducts"]),{cancelDialog:function(e){this.setDialogVisible(e),this.setProduct({})},test:function(e){e&&this.getProduct(),"新增"==this.title.name?this.addProduct():this.updateProduct(),this.setDialogVisible(e),this.setProduct({})}})},Wa=Ra,Ja=(a("b6fb"),Object(n["a"])(Wa,Ia,Ca,!1,null,null,null));Ja.options.__file="add.vue";var Qa=Ja.exports,Za=Object(b["a"])("SupProducts"),Ga=Za.mapState,Ha=Za.mapActions,Ka=Za.mapMutations,Xa={components:{Add:Qa},created:function(){this.setProducts()},computed:Object(f["a"])({},Ga(["id","products","title"])),methods:Object(f["a"])({},Ka(["setDialogVisible","setTitle","getPid"]),Ha(["setProducts","getProduct"]),{updateProduct:function(e){console.log(e),this.setTitle("修改"),this.getPid(e),this.getProduct(),this.setDialogVisible(!0)},add:function(){this.setTitle("新增"),this.setDialogVisible(!0)},deleteProduct:function(e){var t=this;v()({method:"delete",url:"/supplier/".concat(e)}).then(function(e){e.data;t.setProducts()})}})},es=Xa,ts=(a("105c"),Object(n["a"])(es,$a,Da,!1,null,null,null));ts.options.__file="products.vue";var as=ts.exports,ss=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"order-head"},[a("ServiceAdd",{staticClass:"order-add"}),a("ServiceSearch")],1),a("ServiceUpdate"),a("ServiceList"),a("ServicePage")],1)},os=[],rs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{label:"服务名称",width:"80",prop:"name"}}),a("el-table-column",{attrs:{label:"服务类别",width:"80",prop:"type"}}),a("el-table-column",{attrs:{label:"服务时间",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"top"}},[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v("开始："+e._s(t.row.startTime))]),a("el-tag",{attrs:{size:"medium"}},[e._v("结束："+e._s(t.row.endTime))])],1)])]}}])}),a("el-table-column",{attrs:{label:"宠物体重",width:"80",prop:"weight"}}),a("el-table-column",{attrs:{label:"服务规格",width:"80",prop:"serviceType"}}),a("el-table-column",{attrs:{label:"耗时",width:"70",prop:"time"}}),a("el-table-column",{attrs:{label:"员工等级",width:"100",prop:"stuffLevel"}}),a("el-table-column",{attrs:{label:"价格(小时/次)",width:"120",prop:"price"}}),a("el-table-column",{attrs:{label:"备注信息",width:"100",prop:"text"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.updateService(t.row._id)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.delService(t.row._id)}}},[e._v("删除")])]}}])})],1)},is=[],ls=Object(b["a"])("serviceModules"),ns=ls.mapState,cs=ls.mapMutations,us=ls.mapActions,ps={computed:Object(f["a"])({},ns(["data","dialogVisible"])),methods:Object(f["a"])({},us(["getServices","setServiceInfo"]),cs(["setUpdateVisible"]),{updateService:function(e){this.setServiceInfo(e),this.setUpdateVisible(!0)},delService:function(e){var t=this;v()({method:"delete",url:"/services/"+e}).then(function(){t.getServices()})}})},ds=ps,ms=(a("188e"),Object(n["a"])(ds,rs,is,!1,null,null,null));ms.options.__file="ServiceList.vue";var fs=ms.exports,hs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"修改",visible:e.closeDialogVisible,width:"50%","before-close":e.handleClose},on:{"update:visible":function(t){e.closeDialogVisible=t}}},[a("el-form",{ref:"updateFrom",staticClass:"demo-ruleForm",attrs:{model:e.updateInfo,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"服务名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入服务名称"},model:{value:e.updateInfo.name,callback:function(t){e.$set(e.updateInfo,"name",t)},expression:"updateInfo.name"}})],1),a("el-form-item",{attrs:{label:"服务类别",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择服务类别"},model:{value:e.updateInfo.type,callback:function(t){e.$set(e.updateInfo,"type",t)},expression:"updateInfo.type"}},[a("el-option",{attrs:{label:"洗护",value:"洗护",name:"type"}}),a("el-option",{attrs:{label:"寄养",value:"寄养",name:"type"}})],1)],1),a("el-form-item",{attrs:{label:"预约时间"}},[a("el-date-picker",{attrs:{prop:"day",type:"datetime",placeholder:"选择开始日期时间"},model:{value:e.updateInfo.startTime,callback:function(t){e.$set(e.updateInfo,"startTime",t)},expression:"updateInfo.startTime"}}),a("el-date-picker",{attrs:{prop:"day",type:"datetime",placeholder:"选择结束日期时间"},model:{value:e.updateInfo.endTime,callback:function(t){e.$set(e.updateInfo,"endTime",t)},expression:"updateInfo.endTime"}})],1),a("el-form-item",{attrs:{label:"耗费时间",prop:"time"}},[a("el-input-number",{attrs:{precision:2,step:.1,max:10},model:{value:e.updateInfo.time,callback:function(t){e.$set(e.updateInfo,"time",t)},expression:"updateInfo.time"}})],1),a("el-form-item",{attrs:{label:"不可取消"}},[a("el-switch",{model:{value:e.updateInfo.delivery,callback:function(t){e.$set(e.updateInfo,"delivery",t)},expression:"updateInfo.delivery"}})],1),a("el-form-item",{attrs:{label:"宠物体重",prop:"weight"}},[a("el-radio-group",{model:{value:e.updateInfo.weight,callback:function(t){e.$set(e.updateInfo,"weight",t)},expression:"updateInfo.weight"}},[a("el-radio",{attrs:{label:"20kg以下",name:"weight"}}),a("el-radio",{attrs:{label:"20-40kg",name:"weight"}}),a("el-radio",{attrs:{label:"40-50kg",name:"weight"}}),a("el-radio",{attrs:{label:"50kg及以上",name:"weight"}})],1)],1),a("el-form-item",{attrs:{label:"服务等级",prop:"serviceType"}},[a("el-radio-group",{model:{value:e.updateInfo.serviceType,callback:function(t){e.$set(e.updateInfo,"serviceType",t)},expression:"updateInfo.serviceType"}},[a("el-radio",{attrs:{label:"精致",name:"serviceType"}}),a("el-radio",{attrs:{label:"普通",name:"serviceType"}})],1)],1),a("el-form-item",{attrs:{label:"员工等级",prop:"stuffLevel"}},[a("el-radio-group",{model:{value:e.updateInfo.stuffLevel,callback:function(t){e.$set(e.updateInfo,"stuffLevel",t)},expression:"updateInfo.stuffLevel"}},[a("el-radio",{attrs:{label:"S",name:"stuffLevel"}}),a("el-radio",{attrs:{label:"A",name:"stuffLevel"}}),a("el-radio",{attrs:{label:"B",name:"stuffLevel"}}),a("el-radio",{attrs:{label:"C",name:"stuffLevel"}})],1)],1),a("el-form-item",{attrs:{label:"价格",prop:"price"}},[a("el-input",{model:{value:e.updateInfo.price,callback:function(t){e.$set(e.updateInfo,"price",t)},expression:"updateInfo.price"}})],1),a("el-form-item",{attrs:{label:"备注信息",prop:"text"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.updateInfo.text,callback:function(t){e.$set(e.updateInfo,"text",t)},expression:"updateInfo.text"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleCancle}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("updateFrom")}}},[e._v("确 定")])],1)],1)},vs=[],bs=Object(b["a"])("serviceModules"),gs=bs.mapState,ys=bs.mapActions,_s=bs.mapMutations,Ss={data:function(){return{rules:{name:[{required:!0,message:"服务名称不能为空"}],type:[{required:!0,message:"服务类型不能为空"}],day:[{required:!0,message:"日期不能为空"}],text:[{required:!0,message:"内容不能为空"}],time:[{required:!0,message:"耗费时间不能为空"}],price:[{required:!0,message:"价格不能为空"}]}}},computed:Object(f["a"])({},gs(["updateInfo","dialogVisible"]),{closeDialogVisible:{get:function(){return this.dialogVisible},set:function(){this.setUpdateVisible(!1)}}}),methods:Object(f["a"])({},_s(["setUpdateVisible","setServiceInfo"]),ys(["getServices"]),{handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},handleCancle:function(){this.setUpdateVisible(!1)},handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return alert("请填写完整信息"),!1;v()({method:"put",url:"/services/"+t.updateInfo._id,data:{name:t.updateInfo.name,type:t.updateInfo.type,time:t.updateInfo.time,startTime:t.updateInfo.startTime,endTime:t.updateInfo.endTime,delivery:t.updateInfo.delivery,weight:t.updateInfo.weight,serviceType:t.updateInfo.serviceType,stuffLevel:t.updateInfo.stuffLevel,price:t.updateInfo.price,text:t.updateInfo.text}}).then(function(){t.getServices(),t.setUpdateVisible(!1)})})}})},xs=Ss,ws=(a("7682"),Object(n["a"])(xs,hs,vs,!1,null,"c6bfe456",null));ws.options.__file="ServiceUpdate.vue";var Fs=ws.exports,ks=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("增加")]),a("el-dialog",{attrs:{title:"增加",visible:e.dialogVisible,width:"50%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"addForm",staticClass:"demo-ruleForm",attrs:{model:e.addForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"服务名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入服务名称"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"服务类别",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择服务类别"},model:{value:e.addForm.type,callback:function(t){e.$set(e.addForm,"type",t)},expression:"addForm.type"}},[a("el-option",{attrs:{label:"洗护",value:"护理",name:"type"}}),a("el-option",{attrs:{label:"寄养",value:"寄养",name:"type"}})],1)],1),a("el-form-item",{attrs:{label:"服务时间",prop:"day"}},[a("el-date-picker",{attrs:{prop:"day",type:"datetime",placeholder:"选择开始日期时间"},model:{value:e.addForm.startTime,callback:function(t){e.$set(e.addForm,"startTime",t)},expression:"addForm.startTime"}}),a("el-date-picker",{attrs:{prop:"day",type:"datetime",placeholder:"选择结束日期时间"},model:{value:e.addForm.endTime,callback:function(t){e.$set(e.addForm,"endTime",t)},expression:"addForm.endTime"}})],1),a("el-form-item",{attrs:{label:"耗费时间",prop:"time"}},[a("el-input-number",{attrs:{precision:2,step:.1,max:10},model:{value:e.addForm.time,callback:function(t){e.$set(e.addForm,"time",t)},expression:"addForm.time"}})],1),a("el-form-item",{attrs:{label:"不可取消"}},[a("el-switch",{model:{value:e.addForm.delivery,callback:function(t){e.$set(e.addForm,"delivery",t)},expression:"addForm.delivery"}})],1),a("el-form-item",{attrs:{label:"宠物体重",prop:"weight"}},[a("el-radio-group",{model:{value:e.addForm.weight,callback:function(t){e.$set(e.addForm,"weight",t)},expression:"addForm.weight"}},[a("el-radio",{attrs:{label:"20kg以下",name:"weight"}}),a("el-radio",{attrs:{label:"20-40kg",name:"weight"}}),a("el-radio",{attrs:{label:"40-50kg",name:"weight"}}),a("el-radio",{attrs:{label:"50kg及以上",name:"weight"}})],1)],1),a("el-form-item",{attrs:{label:"服务等级",prop:"serviceType"}},[a("el-radio-group",{model:{value:e.addForm.serviceType,callback:function(t){e.$set(e.addForm,"serviceType",t)},expression:"addForm.serviceType"}},[a("el-radio",{attrs:{label:"精致",name:"serviceType"}}),a("el-radio",{attrs:{label:"普通",name:"serviceType"}})],1)],1),a("el-form-item",{attrs:{label:"员工等级",prop:"stuffLevel"}},[a("el-radio-group",{model:{value:e.addForm.stuffLevel,callback:function(t){e.$set(e.addForm,"stuffLevel",t)},expression:"addForm.stuffLevel"}},[a("el-radio",{attrs:{label:"S",name:"stuffLevel"}}),a("el-radio",{attrs:{label:"A",name:"stuffLevel"}}),a("el-radio",{attrs:{label:"B",name:"stuffLevel"}}),a("el-radio",{attrs:{label:"C",name:"stuffLevel"}})],1)],1),a("el-form-item",{attrs:{label:"价格",prop:"price"}},[a("el-input",{model:{value:e.addForm.price,callback:function(t){e.$set(e.addForm,"price",t)},expression:"addForm.price"}})],1),a("el-form-item",{attrs:{label:"备注信息",prop:"text"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.addForm.text,callback:function(t){e.$set(e.addForm,"text",t)},expression:"addForm.text"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancleBtn}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addBtn("addForm")}}},[e._v("确 定")])],1)],1)],1)},Ps=[],Os=Object(b["a"])("serviceModules"),$s=Os.mapState,Ds=Os.mapActions,Is={data:function(){return{day:"",dialogVisible:!1,addForm:{name:"",type:"",startTime:"",endTime:"",time:"",delivery:"",weight:[],serviceType:"",stuffLevel:"",price:"",text:""},rules:{name:[{required:!0,message:"服务名称不能为空"}],type:[{required:!0,message:"服务类型不能为空"}],startTime:[{required:!0,message:"开始时间不能为空"}],endTime:[{required:!0,message:"结束时间不能为空"}],text:[{required:!0,message:"内容不能为空"}],time:[{required:!0,message:"耗费时间不能为空"}],price:[{required:!0,message:"价格不能为空"}]}}},computed:Object(f["a"])({},$s(["shopId"])),methods:Object(f["a"])({},Ds(["getServices"]),{handleClose:function(e){var t=this;this.$confirm("确认关闭？").then(function(){e(),t.$refs.addForm.resetFields()}).catch(function(){})},cancleBtn:function(){this.dialogVisible=!1,this.$refs.addForm.resetFields()},addBtn:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return alert("请填写完整信息"),!1;v()({method:"post",url:"/services",data:{name:t.addForm.name,type:t.addForm.type,startTime:t.addForm.startTime,endTime:t.addForm.endTime,time:t.addForm.time,delivery:t.addForm.delivery,weight:t.addForm.weight,serviceType:t.addForm.serviceType,stuffLevel:t.addForm.stuffLevel,price:t.addForm.price,text:t.addForm.text,id:t.shopId}}).then(function(){t.dialogVisible=!1,t.$refs.addForm.resetFields(),t.getServices()})})}})},Cs=Is,Ts=(a("320d"),Object(n["a"])(Cs,ks,Ps,!1,null,null,null));Ts.options.__file="ServiceAdd.vue";var js=Ts.exports,Vs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-pagination",{attrs:{"current-page":e.pagination.curpage,"page-sizes":[5,10,20,30],"page-size":e.pagination.eachpage,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},As=[],Ms=Object(b["a"])("serviceModules"),Us=Ms.mapState,zs=Ms.mapActions,Bs={data:function(){return{currentSize:""}},computed:Object(f["a"])({},Us(["pagination","search"])),methods:Object(f["a"])({},zs(["getServices"]),{handleSizeChange:function(e){this.getServices({page:1,rows:e,type:this.search.type,value:this.search.value}),this.currentSize=e},handleCurrentChange:function(e){this.getServices({page:e,rows:this.currentSize,type:this.search.type,value:this.search.value})}})},qs=Bs,Ls=(a("8b12"),Object(n["a"])(qs,Vs,As,!1,null,null,null));Ls.options.__file="ServicePage.vue";var Es=Ls.exports,Ns=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-search"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-option",{attrs:{label:"服务名称",value:"name"}}),a("el-option",{attrs:{label:"服务类别",value:"type"}}),a("el-option",{attrs:{label:"服务规格",value:"serviceType"}})],1),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchBtn},slot:"append"})],1)],1)},Ys=[],Rs=Object(b["a"])("serviceModules"),Ws=Rs.mapActions,Js=Rs.mapMutations,Qs={data:function(){return{value:"",type:""}},methods:Object(f["a"])({},Ws(["getServices"]),Js(["setSearch"]),{searchBtn:function(){var e=this.type,t=this.value;this.setSearch({type:e,value:t}),this.getServices({page:1,rows:5,type:e,value:t})}})},Zs=Qs,Gs=(a("cb39"),Object(n["a"])(Zs,Ns,Ys,!1,null,null,null));Gs.options.__file="ServiceSearch.vue";var Hs=Gs.exports,Ks=Object(b["a"])("serviceModules"),Xs=Ks.mapActions,eo={components:{ServiceAdd:js,ServiceList:fs,ServiceUpdate:Fs,ServicePage:Es,ServiceSearch:Hs},created:function(){this.getServices()},methods:Object(f["a"])({},Xs(["getServices"]))},to=eo,ao=(a("4260"),Object(n["a"])(to,ss,os,!1,null,"009413c7",null));ao.options.__file="index.vue";var so=ao.exports,oo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},ro=[],io={},lo=io,no=(a("48b7"),Object(n["a"])(lo,oo,ro,!1,null,null,null));no.options.__file="index.vue";var co=no.exports,uo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-radio-group",{on:{change:e.showRep},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-radio-button",{attrs:{label:"店铺商品销量统计"}}),a("el-radio-button",{attrs:{label:"店铺服务销量统计"}})],1),a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[e._v("请选择年份:")]),a("el-date-picker",{attrs:{type:"year",placeholder:"选择年份"},on:{change:e.chooseYear},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),a("el-radio-group",{staticClass:"block",on:{change:e.showBy},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[a("el-radio",{attrs:{label:"按月份显示"}},[e._v("按月份显示")]),a("el-radio",{attrs:{label:"按季度显示"}},[e._v("按季度显示")]),a("el-radio",{attrs:{label:"按年份显示"}},[e._v("按年份显示")])],1),a("div",{ref:"saleNum",staticClass:"total",attrs:{id:"saleNum"}})],1)},po=[],mo=a("e814"),fo=a.n(mo),ho=(a("55dd"),{data:function(){return{type:"店铺商品销量统计",radio:"按月份显示",value:new Date,xAxis:[],seriesDataPro:[],seriesDataService:[],seriesDataProQuter:[],seriesDataServiceQuter:[],seriesDataProYear:[],seriesDataServiceYear:[]}},mounted:function(){var e=this;this.$nextTick(function(){e.showRep()})},methods:{showRep:function(){var e=this,t=pe.a.init(this.$refs.saleNum);"店铺商品销量统计"==this.type?v()({method:"get",url:"/reportPro",params:{id:JSON.parse(window.localStorage.getItem("session"))._id,chooseYear:this.value}}).then(function(a){var s=a.data;"按季度显示"==e.radio?(e.xAxis=s.axisDataQuarter,e.seriesDataPro=s.seriesDataProQuter,t.setOption(e.proQuterOption,!0)):"按年份显示"==e.radio?(e.seriesDataProYear=s.seriesDataProYear,e.seriesDataServiceYear=s.seriesDataServiceYear,t.setOption(e.pieOption,!0)):(e.xAxis=s.axisDataMonth,e.seriesDataPro=s.seriesDataPro,t.setOption(e.proOption,!0))}):v()({method:"get",url:"/reportPro",params:{id:JSON.parse(window.localStorage.getItem("session"))._id,chooseYear:this.value}}).then(function(a){var s=a.data;"按季度显示"==e.radio?(e.xAxis=s.axisDataQuarter,e.seriesDataService=s.seriesDataServiceQuter,t.setOption(e.serQuterOption,!0)):"按年份显示"==e.radio?(e.seriesDataProYear=s.seriesDataProYear,e.seriesDataServiceYear=s.seriesDataServiceYear,t.setOption(e.pieOption,!0)):(e.xAxis=s.axisDataMonth,e.seriesDataService=s.seriesDataService,t.setOption(e.serOption,!0))})},chooseYear:function(e){this.value=new Date(e),this.showRep()},showBy:function(){this.showRep()}},computed:{proOption:function(){return{title:{text:"店铺商品销量统计"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{x:"right",data:["狗粮","猫粮","其他"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:this.xAxis}],yAxis:[{type:"value"}],series:[{name:"狗粮",type:"bar",stack:"食品",barWidth:10,color:"#e7bcf3",data:[this.seriesDataPro[0][1].value,this.seriesDataPro[1][1].value,this.seriesDataPro[2][1].value,this.seriesDataPro[3][1].value,this.seriesDataPro[4][1].value,this.seriesDataPro[5][1].value,this.seriesDataPro[6][1].value,this.seriesDataPro[7][1].value,this.seriesDataPro[8][1].value,this.seriesDataPro[9][1].value,this.seriesDataPro[10][1].value,this.seriesDataPro[11][1].value]},{name:"猫粮",type:"bar",stack:"食品",barWidth:10,color:"#ff9f7f",data:[this.seriesDataPro[0][0].value,this.seriesDataPro[1][0].value,this.seriesDataPro[2][0].value,this.seriesDataPro[3][0].value,this.seriesDataPro[4][0].value,this.seriesDataPro[5][0].value,this.seriesDataPro[6][0].value,this.seriesDataPro[7][0].value,this.seriesDataPro[8][0].value,this.seriesDataPro[9][0].value,this.seriesDataPro[10][0].value,this.seriesDataPro[11][0].value]},{name:"其他",type:"bar",barWidth:10,color:"#ffdb5c",data:[this.seriesDataPro[0][2].value,this.seriesDataPro[1][2].value,this.seriesDataPro[2][2].value,this.seriesDataPro[3][2].value,this.seriesDataPro[4][2].value,this.seriesDataPro[5][2].value,this.seriesDataPro[6][2].value,this.seriesDataPro[7][2].value,this.seriesDataPro[8][2].value,this.seriesDataPro[9][2].value,this.seriesDataPro[10][2].value,this.seriesDataPro[11][2].value]}]}},serOption:function(){return{title:{text:"店铺服务销量统计"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{x:"right",data:["寄养服务","洗护服务","其他"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:this.xAxis}],yAxis:[{type:"value"}],series:[{name:"寄养服务",type:"bar",barWidth:10,stack:"服务",color:"#37a2da",data:[this.seriesDataService[0][0].value,this.seriesDataService[1][0].value,this.seriesDataService[2][0].value,this.seriesDataService[3][0].value,this.seriesDataService[4][0].value,this.seriesDataService[5][0].value,this.seriesDataService[6][0].value,this.seriesDataService[7][0].value,this.seriesDataService[8][0].value,this.seriesDataService[9][0].value,this.seriesDataService[10][0].value,this.seriesDataService[11][0].value]},{name:"洗护服务",type:"bar",barWidth:10,stack:"服务",color:"#8378ea",data:[this.seriesDataService[0][1].value,this.seriesDataService[1][1].value,this.seriesDataService[2][1].value,this.seriesDataService[3][1].value,this.seriesDataService[4][1].value,this.seriesDataService[5][1].value,this.seriesDataService[6][1].value,this.seriesDataService[7][1].value,this.seriesDataService[8][1].value,this.seriesDataService[9][1].value,this.seriesDataService[10][1].value,this.seriesDataService[11][1].value]},{name:"其他",type:"bar",barWidth:10,color:"#e7bcf3",data:[this.seriesDataService[0][2].value,this.seriesDataService[1][2].value,this.seriesDataService[2][2].value,this.seriesDataService[3][2].value,this.seriesDataService[4][2].value,this.seriesDataService[5][2].value,this.seriesDataService[6][2].value,this.seriesDataService[7][2].value,this.seriesDataService[8][2].value,this.seriesDataService[9][2].value,this.seriesDataService[10][2].value,this.seriesDataService[11][2].value]}]}},proQuterOption:function(){return{title:{text:"店铺商品销量统计"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{x:"right",data:["狗粮","猫粮","其他"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:this.xAxis}],yAxis:[{type:"value"}],series:[{name:"狗粮",type:"bar",stack:"食品",barWidth:10,color:"#8378ea",data:[this.seriesDataPro[0][1].value,this.seriesDataPro[1][1].value,this.seriesDataPro[2][1].value,this.seriesDataPro[3][1].value]},{name:"猫粮",type:"bar",stack:"食品",barWidth:10,color:"#e7bcf3",data:[this.seriesDataPro[0][0].value,this.seriesDataPro[1][0].value,this.seriesDataPro[2][0].value,this.seriesDataPro[3][0].value]},{name:"其他",type:"bar",barWidth:10,color:"#fb7293",data:[this.seriesDataPro[0][2].value,this.seriesDataPro[1][2].value,this.seriesDataPro[2][2].value,this.seriesDataPro[3][2].value]}]}},serQuterOption:function(){return{title:{text:"店铺服务销量统计"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{x:"right",data:["寄养服务","洗护服务","其他"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:this.xAxis}],yAxis:[{type:"value"}],series:[{name:"寄养服务",type:"bar",barWidth:10,stack:"服务",color:"#ff9f7f",data:[this.seriesDataService[0][0].value,this.seriesDataService[1][0].value,this.seriesDataService[2][0].value,this.seriesDataService[3][0].value]},{name:"洗护服务",type:"bar",barWidth:10,stack:"服务",color:"#ffdb5c",data:[this.seriesDataService[0][1].value,this.seriesDataService[1][1].value,this.seriesDataService[2][1].value,this.seriesDataService[3][1].value]},{name:"其他",type:"bar",barWidth:10,color:"#9fe6b8",data:[this.seriesDataService[0][2].value,this.seriesDataService[1][2].value,this.seriesDataService[2][2].value,this.seriesDataService[3][2].value]}]}},pieOption:function(){return{backgroundColor:"#2c343c",title:{text:"年销售额",left:"center",top:20,textStyle:{color:"#ccc"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},visualMap:{show:!1,min:0,max:10,inRange:{colorLightness:[.5,1]},color:["#8378ea","#e7bcf3","#fb7293","#ff9f7f","#ffdb5c","#9fe6b8","#37a2da"]},series:[{name:"数据来源",type:"pie",radius:"55%",center:["50%","50%"],data:[{value:this.seriesDataProYear[0].value,name:"狗粮"},{value:this.seriesDataProYear[1].value,name:"猫粮"},{value:fo()(this.seriesDataProYear[2].value)+fo()(this.seriesDataServiceYear[2].value),name:"其他"},{value:this.seriesDataServiceYear[0].value,name:"寄养服务"},{value:this.seriesDataServiceYear[1].value,name:"洗护服务"}].sort(function(e,t){return e.value-t.value}),roseType:"radius",label:{normal:{textStyle:{color:"rgba(255, 255, 255, 0.3)"}}},labelLine:{normal:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"},smooth:.2,length:10,length2:20}},itemStyle:{normal:{shadowBlur:200,shadowColor:"rgba(0, 0, 0, 0.5)"}},animationType:"scale",animationEasing:"elasticOut",animationDelay:function(e){return 200*Math.random(e)}}]}}}}),vo=ho,bo=(a("3884"),Object(n["a"])(vo,uo,po,!1,null,"e147ccae",null));bo.options.__file="index.vue";var go=bo.exports,yo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-radio-group",{on:{change:e.showChart},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-radio-button",{attrs:{label:"商品类销售额统计"}}),a("el-radio-button",{attrs:{label:"服务类销售额统计"}})],1),a("div",{ref:"myChart",staticClass:"total",attrs:{id:"myChart"}})],1)},_o=[],So=Object(b["a"])("productsMoudles"),xo=So.mapActions,wo=So.mapState,Fo={data:function(){return{type:"商品类销售额统计",salesAxisData:[],seriesDataPro:[],seriesDataSer:[],zoom:0}},mounted:function(){var e=this;this.$nextTick(function(){e.showChart()}),this.getSession(),this.getTime()},methods:Object(f["a"])({},xo(["getTime","getSession"]),{showChart:function(){var e=this,t=pe.a.init(this.$refs.myChart);"商品类销售额统计"==this.type?v()({url:"/salePro",method:"get",params:{trueTime:this.trueTime,sessionId:JSON.parse(window.localStorage.getItem("session"))._id}}).then(function(a){var s=a.data;e.salesAxisData=s.axisData,e.seriesDataPro=s.seriesDataPro,t.setOption(e.proOptions,!0)}):v()({url:"/salePro",method:"get",params:{trueTime:this.trueTime,sessionId:JSON.parse(window.localStorage.getItem("session"))._id}}).then(function(a){var s=a.data;e.salesAxisData=s.axisData,e.seriesDataSer=s.seriesDataSer,t.setOption(e.serOptions,!0)})}}),computed:Object(f["a"])({},wo(["trueTime"]),{proOptions:function(){return{title:{text:"近6个月商品类销售额统计"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{x:"right",data:["狗粮","猫粮","其它"]},xAxis:{data:this.salesAxisData},yAxis:{},series:[{name:"狗粮",type:"bar",barWidth:40,stack:"商品",color:"#61a0a8",data:[this.seriesDataPro[0][0].value,this.seriesDataPro[1][0].value,this.seriesDataPro[2][0].value,this.seriesDataPro[3][0].value,this.seriesDataPro[4][0].value,this.seriesDataPro[5][0].value]},{name:"猫粮",type:"bar",barWidth:40,stack:"商品",color:"#d48265",data:[this.seriesDataPro[0][1].value,this.seriesDataPro[1][1].value,this.seriesDataPro[2][1].value,this.seriesDataPro[3][1].value,this.seriesDataPro[4][1].value,this.seriesDataPro[5][1].value]},{name:"其它",type:"bar",barWidth:40,stack:"商品",color:"#91c7ae",data:[this.seriesDataPro[0][2].value,this.seriesDataPro[1][2].value,this.seriesDataPro[2][2].value,this.seriesDataPro[3][2].value,this.seriesDataPro[4][2].value,this.seriesDataPro[5][2].value]}]}},serOptions:function(){return{title:{text:"近6个月服务类销售额统计"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{x:"right",data:["洗护","寄养","其它"]},xAxis:{data:this.salesAxisData},yAxis:{},series:[{name:"洗护",type:"bar",barWidth:40,stack:"服务",color:"#61a0a8",data:[this.seriesDataSer[0][0].value,this.seriesDataSer[1][0].value,this.seriesDataSer[2][0].value,this.seriesDataSer[3][0].value,this.seriesDataSer[4][0].value,this.seriesDataSer[5][0].value]},{name:"寄养",type:"bar",barWidth:40,stack:"服务",color:"#d48265",data:[this.seriesDataSer[0][1].value,this.seriesDataSer[1][1].value,this.seriesDataSer[2][1].value,this.seriesDataSer[3][1].value,this.seriesDataSer[4][1].value,this.seriesDataSer[5][1].value]},{name:"其它",type:"bar",barWidth:40,stack:"服务",color:"#91c7ae",data:[this.seriesDataSer[0][2].value,this.seriesDataSer[1][2].value,this.seriesDataSer[2][2].value,this.seriesDataSer[3][2].value,this.seriesDataSer[4][2].value,this.seriesDataSer[5][2].value]}]}}})},ko=Fo,Po=(a("6352"),Object(n["a"])(ko,yo,_o,!1,null,null,null));Po.options.__file="index.vue";var Oo=Po.exports,$o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearx",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("注册")])]),a("el-form",{ref:"regForm",attrs:{model:e.regForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.regForm.phone,callback:function(t){e.$set(e.regForm,"phone",t)},expression:"regForm.phone"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.regForm.pwd,callback:function(t){e.$set(e.regForm,"pwd",t)},expression:"regForm.pwd"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"confrim"}},[a("el-input",{attrs:{type:"password"},model:{value:e.regForm.confrim,callback:function(t){e.$set(e.regForm,"confrim",t)},expression:"regForm.confrim"}})],1),a("el-form-item",{attrs:{label:"类型：",prop:"private"}},[a("el-radio",{attrs:{label:"门店",border:""},model:{value:e.regForm.private,callback:function(t){e.$set(e.regForm,"private",t)},expression:"regForm.private"}},[e._v("门店")]),a("el-radio",{attrs:{label:"供应商",border:""},model:{value:e.regForm.private,callback:function(t){e.$set(e.regForm,"private",t)},expression:"regForm.private"}},[e._v("供应商")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.reg()}}},[e._v("注册")])],1)],1)],1)},Do=[],Io={data:function(){return{regForm:{private:"",phone:"",pwd:"",confirm:""},rules:{private:[{required:!0,message:"请选择注册类型"}],phone:[{required:!0,message:"请输入电话号码"},{pattern:/^1\d{10}$/,message:"手机号格式不正确"},{validator:this.validatePhone}],pwd:[{required:!0,message:"请输入密码"},{min:6,message:"密码至少6位"}],confrim:[{required:!0,message:"确认密码"},{validator:this.validatePwd}]}}},methods:{validatePhone:function(e,t,a){v()({method:"get",url:"/users",params:{phone:t}}).then(function(e){var t=e.data;0==t.status?a("手机号重复"):a()})},validatePwd:function(e,t,a){t==this.regForm.pwd?a():a(new Error("两次密码不一致，请重新输入"))},reg:function(){var e=this;this.$refs.regForm.validate(function(t){t?v()({method:"post",url:"/users",data:{phone:e.regForm.phone,password:e.regForm.pwd,private:e.regForm.private,status:"待审核",account:"正常"}}).then(function(){e.$router.push("login")}):e.$alert("注册失败，请重新注册")})}}},Co=Io,To=(a("c530"),Object(n["a"])(Co,$o,Do,!1,null,"78c24a75",null));To.options.__file="Register.vue";var jo=To.exports,Vo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix position",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("欢迎登录爱宠邦后台管理系统")])]),a("el-form",{ref:"lgForm",attrs:{model:e.lgForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"账号",prop:"phone"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.lgForm.phone,callback:function(t){e.$set(e.lgForm,"phone",t)},expression:"lgForm.phone"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.lgForm.pwd,callback:function(t){e.$set(e.lgForm,"pwd",t)},expression:"lgForm.pwd"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.lg()}}},[e._v("登录")]),a("a",{staticClass:"toReg"},[a("router-link",{attrs:{to:"register"}},[e._v("没有账号，请注册")])],1)],1)],1)],1)],1)},Ao=[],Mo={data:function(){return{lgForm:{phone:"",pwd:""},rules:{phone:[{required:!0,message:"请输入手机号码"}],pwd:[{required:!0,message:"请输入密码"}]}}},methods:Object(f["a"])({},Object(b["c"])(["getSession"]),{lg:function(){var e=this;this.$refs.lgForm.validate(function(t){t?v()({method:"post",url:"/users/login",data:{phone:e.lgForm.phone,password:e.lgForm.pwd}}).then(function(t){var a=t.data;0==a.status?e.$router.push("manage"):e.$alert("登录失败，账号或密码错误！！","消息")}):e.$alert("登录失败，输入有误！！","消息")})}})},Uo=Mo,zo=(a("9835"),Object(n["a"])(Uo,Vo,Ao,!1,null,"6111fa66",null));zo.options.__file="Login.vue";var Bo=zo.exports,qo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"test",attrs:{id:"main"}})},Lo=[],Eo=a("a4bb"),No=a.n(Eo),Yo=(a("c5f6"),a("313e")),Ro=a.n(Yo),Wo={data:function(){return{list:{yAxis:[],xAxis:[]}}},mounted:function(){var e=this;this.$nextTick(function(){e.showChart()})},created:function(){},computed:{echartOption:function(){return{title:{text:"销量统计图"},tooltip:{},xAxis:{data:this.list.xAxis},yAxis:{},visualMap:{top:10,right:10,pieces:[{gt:0,lte:50,color:"#096"},{gt:50,lte:100,color:"#ffde33"},{gt:100,lte:150,color:"#ff9933"},{gt:150,lte:200,color:"#cc0033"},{gt:200,lte:300,color:"#660099"},{gt:300,lte:600,color:"#7e0023"},{gt:600,color:"#5e2"}],outOfRange:{color:"#999"}},dataZoom:[{startValue:"2014-06-01"},{type:"inside"}],series:[{name:"销量",type:"line",data:this.list.yAxis}]}}},methods:{getMonthBetween:function(e,t){var a=[],s=new Date(Date.parse(this.strToDate(e))),o=new Date(Date.parse(this.strToDate(t))),r=s;while(r<=o){var i=r.getMonth(),l=i+1<10?r.getFullYear()+"0"+(Number(i)+1):r.getFullYear()+""+(Number(i)+1),n=r.getFullYear()+"-0";l==n&&(l=r.getFullYear()+"-12"),a.push(l),r.setMonth(i+1)}return a},strToDate:function(e){return[e.slice(0,4),e.slice(4,6)]},showChart:function(){var e=this,t=Ro.a.init(this.$refs.test),a=this;v()({url:"/supplier/info",method:"get",params:{id:JSON.parse(window.localStorage.getItem("session"))._id}}).then(function(s){var o=s.data;v()({url:"/supplierreport/AllorderBySupplier/"+o[0]._id,method:"get"}).then(function(s){var o=s.data,r=[],i=e.getMonthBetween(No()(o[0])[0],No()(o[o.length-1])[0]);for(var l in console.log(o),i){var n=!1;for(var c in o)if(No()(o[c])[0]==i[l]){console.log(l,c),r.push(o[c][i[l]]),n=!0;break}n||r.push(0)}a.list.xAxis=[].concat(i),a.list.yAxis=[].concat(r),console.log(a.list.yAxis),t.setOption(e.echartOption,!0)})}),console.log(this.list)}}},Jo=Wo,Qo=(a("5903"),Object(n["a"])(Jo,qo,Lo,!1,null,null,null));Qo.options.__file="statistics.vue";var Zo=Qo.exports,Go=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("RegShop"),a("ChekShop")],1)},Ho=[],Ko=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"regCard"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("注册门店")]),a("el-dialog",{attrs:{title:"门店信息",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"regForm",staticClass:"demo-regForm",attrs:{model:e.regForm,"status-icon":"",rules:e.rules,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"名称:",prop:"name"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.regForm.name,callback:function(t){e.$set(e.regForm,"name",t)},expression:"regForm.name"}})],1),a("el-form-item",{attrs:{label:"营业执照号码:",prop:"business_no"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.regForm.business_no,callback:function(t){e.$set(e.regForm,"business_no",t)},expression:"regForm.business_no"}})],1),a("el-form-item",{attrs:{label:"营业执照图片",prop:"business_lic"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/upload","show-file-list":!1,"on-success":e.handleAvatarSuccess}},[e.regForm.business_lic?a("img",{staticClass:"avatar",attrs:{src:e.regForm.business_lic}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"营业地址:",prop:"addr"}},[a("el-input",{on:{blur:e.getLocation},model:{value:e.regForm.addr,callback:function(t){e.$set(e.regForm,"addr",t)},expression:"regForm.addr"}})],1),a("el-form-item",{attrs:{label:"经纬度:",prop:"location"}},[a("el-input",{attrs:{disabled:""},model:{value:e.regForm.location,callback:function(t){e.$set(e.regForm,"location",t)},expression:"regForm.location"}})],1),a("el-form-item",{attrs:{label:"所在城市",prop:"city"}},[a("el-cascader",{attrs:{"expand-trigger":"hover",options:e.citys},model:{value:e.regForm.city,callback:function(t){e.$set(e.regForm,"city",t)},expression:"regForm.city"}})],1),a("el-form-item",{attrs:{label:"法人:",prop:"legal_person"}},[a("el-input",{model:{value:e.regForm.legal_person,callback:function(t){e.$set(e.regForm,"legal_person",t)},expression:"regForm.legal_person"}})],1),a("el-form-item",{attrs:{label:"联系电话:",prop:"tel"}},[a("el-input",{model:{value:e.regForm.tel,callback:function(t){e.$set(e.regForm,"tel",t)},expression:"regForm.tel"}})],1),a("el-form-item",{attrs:{label:"特色:",prop:"feature"}},[a("el-input",{model:{value:e.regForm.feature,callback:function(t){e.$set(e.regForm,"feature",t)},expression:"regForm.feature"}})],1),a("el-form-item",{attrs:{label:"VIP等级:",prop:"vip"}},[a("el-input",{model:{value:e.regForm.vip,callback:function(t){e.$set(e.regForm,"vip",t)},expression:"regForm.vip"}})],1),a("el-form-item",{attrs:{label:"佣金比例:",prop:"commission_rate"}},[a("el-input",{model:{value:e.regForm.commission_rate,callback:function(t){e.$set(e.regForm,"commission_rate",t)},expression:"regForm.commission_rate"}})],1),e._l(e.regForm.stuff,function(t,s){return a("el-form-item",{key:s,attrs:{label:"店员"+(s+1),prop:"stuff."+s}},[a("el-input",{attrs:{placeholder:"店员姓名"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}}),a("el-input",{attrs:{placeholder:"店员职位"},model:{value:t.title,callback:function(a){e.$set(t,"title",a)},expression:"item.title"}}),a("el-input",{attrs:{placeholder:"联系电话"},model:{value:t.phone,callback:function(a){e.$set(t,"phone",a)},expression:"item.phone"}}),a("el-button",{on:{click:function(a){a.preventDefault(),e.removeItem(t)}}},[e._v("删除")])],1)}),a("el-form-item",[a("el-button",{on:{click:e.addItem}},[e._v("添加店员")])],1),a("el-form-item",{attrs:{label:"门店头像"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/upload","show-file-list":!1,"on-success":e.handleAvatarSuccess1}},[e.regForm.img_head?a("img",{staticClass:"avatar",attrs:{src:e.regForm.img_head}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.regBtn("regForm")}}},[e._v("确定")]),a("el-button",[e._v("重置")])],1)],2)],1)],1)},Xo=[],er=Object(b["a"])("shopModule"),tr=er.mapActions,ar=er.mapState,sr={data:function(){return{account:"正常",regForm:{name:"",business_no:"",addr:"",city:[],legal_person:"",tel:"",feature:"",vip:"",commission_rate:"",stuff:[],business_lic:"",img_head:"",location:""},dialogVisible:!1,rules:{name:[{required:!0,message:"门店名称不能为空",trigger:"blur"},{validator:this.validatephone,trigger:"blur"}],business_no:[{required:!0,message:"营业执照编号不能为空",trigger:"blur"}],addr:[{required:!0,message:"营业地址不能为空",trigger:"blur"}],city:[{required:!0,message:"所在城市不能为空",trigger:"blur"}],legal_person:[{required:!0,message:"法人姓名不能为空",trigger:"blur"}],feature:[{required:!0,message:"请填写门店特色",trigger:"blur"}],vip:[{required:!0,message:"请输入vip等级",trigger:"blur"}],commission_rate:[{required:!0,message:"佣金比例不能为空",trigger:"blur"}],tel:[{required:!0,message:"联系电话不能为空",trigger:"blur"},{pattern:/^[1]{1}[3,5,7,8,9]{1}[0-9]{9}$/,message:"请输入正确的手机号",trigger:"blur"}],business_lic:[{required:!0,message:"请上传营业执照",trigger:"blur"}]},citys:[{value:"四川省",label:"四川省",children:[{value:"成都",label:"成都"},{value:"德阳",label:"德阳"}]}]}},computed:Object(f["a"])({},ar(["userId"])),methods:Object(f["a"])({getLocation:function(){var e=this;v()({method:"get",url:"/shop/addr",params:{addr:this.regForm.addr}}).then(function(t){var a=t.data,s="".concat(a.result.location.lng),o="".concat(a.result.location.lat);e.regForm.location=s+","+o})},removeItem:function(e){var t=this.regForm.stuff.indexOf(e);-1!==t&&this.regForm.stuff.splice(t,1)},addItem:function(){this.regForm.stuff.push({name:"",phone:"",title:""})},handleAvatarSuccess:function(e){this.regForm.business_lic="/upload/"+e},handleAvatarSuccess1:function(e){this.regForm.img_head="/upload/"+e}},tr(["getSession"]),{regBtn:function(){var e=this,t=this.regForm,a=t.name,s=t.business_no,o=t.addr,r=t.city,i=t.legal_person,l=t.tel,n=t.feature,c=t.vip,u=t.commission_rate,p=t.stuff,d=t.business_lic,m=t.img_head,f=t.location;v()({method:"post",url:"/shop",data:{name:a,business_no:s,addr:o,location:Dt()(f),city:Dt()(r),legal_person:i,tel:l,feature:n,vip:c,commission_rate:u,stuff:Dt()(p),business_lic:d,img_head:m,userId:this.userId,status:"待审核",account:this.account}}).then(function(){e.dialogVisible=!1})}})},or=sr,rr=(a("538d"),Object(n["a"])(or,Ko,Xo,!1,null,"0d9c2c8a",null));rr.options.__file="regShop.vue";var ir=rr.exports,lr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"left"},[a("el-button",{attrs:{type:""},on:{click:function(t){e.dialogVisible=!0}}},[e._v("门店详情")]),a("el-dialog",{attrs:{title:"门店详情",visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-card",{staticClass:"box-card"},[a("div",[a("p",[e._v("名称："+e._s(this.shop.name))]),a("p",[e._v("营业地址："+e._s(this.shop.addr))]),a("p",[e._v("营业执照号码："+e._s(this.shop.business_no))]),a("p",[e._v("城市："+e._s(this.shop.city))]),a("p",[e._v("法人:"+e._s(this.shop.legal_person))]),a("p",[e._v("联系电话："+e._s(this.shop.tel))]),a("p",[e._v("特色："+e._s(this.shop.feature))]),a("p",[e._v("佣金比例："+e._s(this.shop.commission_rate))]),a("p",[e._v("申请状态:"+e._s(this.shop.status))]),a("p",[e._v("营业情况："+e._s(this.shop.account))])])])],1)],1)},nr=[],cr=Object(b["a"])("shopModule"),ur=cr.mapActions,pr=cr.mapState,dr=cr.mapMutations,mr={data:function(){return{dialogVisible:!1}},computed:Object(f["a"])({},pr(["shopId","shop"])),methods:Object(f["a"])({},dr(["setShop"]),ur(["getSession"])),created:function(){this.getSession()}},fr=mr,hr=(a("3c7d"),Object(n["a"])(fr,lr,nr,!1,null,null,null));hr.options.__file="chekShop.vue";var vr=hr.exports,br=Object(b["a"])("shopModule"),gr=br.mapActions,yr={components:{RegShop:ir,ChekShop:vr},data:function(){return{products:[],pagination:{},type:"",value:""}},methods:Object(f["a"])({},gr(["getSession"])),created:function(){this.getSession()}},_r=yr,Sr=(a("b01c"),Object(n["a"])(_r,Go,Ho,!1,null,null,null));Sr.options.__file="index.vue";var xr=Sr.exports;s["default"].use(p["a"]);var wr=new p["a"]({routes:[{path:"/",component:Bo},{path:"/login",component:Bo},{path:"/Register",component:jo},{path:"/manage",component:S,children:[{path:"/manage/platform/UserManage",component:C},{path:"/manage/platform/PetmasterManage",component:L},{path:"/manage/platform/StoreManage",component:le},{path:"/manage/platform/Statistics",component:he},{path:"/manage/producers",component:Se},{path:"/manage/supplier/products",component:as},{path:"/manage/supplier/products",component:as},{path:"/manage/supplier/salesreport",component:Zo},{path:"/manage/orders",component:mt},{path:"/manage/shop",component:Oa},{path:"/manage/supplier/products",component:as},{path:"/manage/services",component:so},{path:"/manage/mine",component:xr},{path:"/manage/report",component:co,children:[{path:"/manage/report/salenum",component:go},{path:"/manage/report/sales",component:Oo}]}]}],mode:"history"}),Fr=(a("96cf"),a("3b8d")),kr={namespaced:!0,state:{data:[],pagination:{},updateInfo:{},dialogVisible:!1,search:{type:"",value:""},id:""},mutations:{getOrders:function(e,t){e.data=t},setOrderInfo:function(e,t){e.updateInfo=t},setSearch:function(e,t){e.search=t},setUpdateVisible:function(e,t){e.dialogVisible=t},setPagination:function(e,t){e.pagination=t},setId:function(e,t){e.id=t}},actions:{getOrders:function(){var e=Object(Fr["a"])(regeneratorRuntime.mark(function e(t){var a,s,o,r,i,l=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.state,s=t.commit,o=t.rootState,r=l.length>1&&void 0!==l[1]?l[1]:{page:1,rows:5},i=o.session._id||JSON.parse(window.localStorage.getItem("session"))._id,e.next=5,v()({method:"get",url:"/orders/shopid",params:{id:i}}).then(function(e){var t=e.data;s("setId",t._id)});case 5:v()({method:"get",url:"/orders/shop",params:Object(f["a"])({id:a.id},r)}).then(function(e){var t=e.data;s("getOrders",t.rows),s("setPagination",t)});case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),setOrderInfo:function(e,t){var a=e.commit;v()({method:"get",url:"/orders/"+t}).then(function(e){var t=e.data;a("setOrderInfo",t)})}}},Pr=(a("6b54"),a("a481"),{namespaced:!0,state:{product:{},products:[],supProducts:[],pagination:{},updateVisible:!1,search:{type:"",value:""},shopId:"",userId:"",trueTime:"",orders:[]},getters:{},mutations:{setProduct:function(e,t){e.product=t},setSupProducts:function(e,t){e.supProducts=t},setProducts:function(e,t){e.products=t},setPagition:function(e,t){e.pagination=t},setSearch:function(e,t){e.search=t},setupdateVisible:function(e,t){e.updateVisible=t},setShopId:function(e,t){e.shopId=t},setUserId:function(e,t){e.userId=t},setTrueTime:function(e,t){e.trueTime=t},setOrders:function(e,t){e.orders=t}},actions:{getSession:function(e){var t=e.commit,a=e.dispatch;v()({method:"get",url:"/users/getSession"}).then(function(e){var s=e.data;t("setUserId",s._id),v()({method:"get",url:"/shop",params:{userId:s._id}}).then(function(e){var s=e.data;t("setShopId",s[0]._id),window.localStorage.setItem("shopId",Dt()(s[0]._id)),a("setProducts")})})},setProduct:function(e,t){var a=e.commit;v()({method:"get",url:"/sopPropducts/"+t}).then(function(e){var t=e.data;a("setProduct",t)})},setProducts:function(e){var t=e.commit,a=e.state,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{page:1,rows:5};console.log(a.shopId||JSON.parse(window.localStorage.getItem("shopId"))._id);var o=a.shopId||JSON.parse(window.localStorage.getItem("shopId"))._id;v()({method:"get",url:"/sopPropducts",params:Object(f["a"])({shopId:o},s)}).then(function(e){var a=e.data;t("setProducts",a.rows),t("setPagition",a)})},setSupProducts:function(e){var t=e.commit,a=e.dispatch,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{page:1,rows:5};v()({method:"get",url:"/sopPropducts/productsAll",params:Object(f["a"])({},s)}).then(function(e){var s=e.data;t("setSupProducts",s.rows),a("setProducts"),t("setPagition",s)})},getTime:function(e){var t=e.commit,a=new Date,s=a.getFullYear(),o=(a.getMonth()+1).toString().replace(/^[0-9]{1}$/,a.getMonth()+1),r=a.getDate().toString().replace(/^[0-9]{1}$/,a.getDate());t("setTrueTime",s+"/"+o+"/"+r)}}}),Or={namespaced:!0,state:{stores:[],store:{},users:[],user:{},pagination:{},shopPagination:{},search:{type:"",value:""},shopSearch:{type:"",value:""},updateShopVisible:!1,petmasters:[],petmasterPagination:{},petmasterSearch:{type:"",value:""}},getters:{},mutations:{setStores:function(e,t){e.stores=t},setStore:function(e,t){e.store=t},setUsers:function(e,t){e.users=t},setUser:function(e,t){e.user=t},setPagination:function(e,t){e.pagination=t},setShopPagination:function(e,t){e.shopPagination=t},setSearch:function(e,t){e.search=t},setShopSearch:function(e,t){e.shopSearch=t},setUpdateShopVisible:function(e,t){e.updateShopVisible=t},setPetmasters:function(e,t){e.petmasters=t},setPetmasterPagination:function(e,t){e.petmasterPagination=t},setPetmasterSearch:function(e,t){e.petmasterSearch=t}},actions:{setUsers:function(e){var t=e.commit,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{page:1,rows:5};v()({method:"get",url:"/platform",params:a}).then(function(e){var a=e.data;t("setUsers",a.rows),t("setPagination",a)})},setUser:function(e,t){var a=e.commit;v()({method:"get",url:"/platform/findUser/"+t}).then(function(e){var t=e.data;a("setUser",t)})},setStores:function(e){var t=e.commit,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{page:1,rows:5};v()({method:"get",url:"/platform/shop",params:a}).then(function(e){var a=e.data;t("setStores",a.rows),t("setShopPagination",a)})},setStore:function(e,t){var a=e.commit;v()({method:"get",url:"/platform/findShop/"+t}).then(function(e){var t=e.data;a("setStore",t)})},setPetmasters:function(e){var t=e.commit,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{page:1,rows:5};v()({method:"get",url:"/platform/findPetmaster",params:a}).then(function(e){var a=e.data;t("setPetmasters",a.rows),t("setPetmasterPagination",a)})}}},$r={namespaced:!0,state:{data:[],pagination:{},updateInfo:{},dialogVisible:!1,search:{type:"",value:""},shopId:""},mutations:{getServices:function(e,t){e.data=t},setServiceInfo:function(e,t){e.updateInfo=t},setSearch:function(e,t){e.search=t},setUpdateVisible:function(e,t){e.dialogVisible=t},setPagination:function(e,t){e.pagination=t},setShopId:function(e,t){e.shopId=t}},actions:{getServices:function(){var e=Object(Fr["a"])(regeneratorRuntime.mark(function e(t){var a,s,o,r,i,l=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.state,s=t.commit,o=t.rootState,r=l.length>1&&void 0!==l[1]?l[1]:{page:1,rows:5},i=o.session._id||JSON.parse(window.localStorage.getItem("session"))._id,e.next=5,v()({method:"get",url:"/orders/shopid",params:{id:i}}).then(function(e){var t=e.data;s("setShopId",t._id)});case 5:v()({methods:"get",url:"/services/shop",params:Object(f["a"])({id:a.shopId},r)}).then(function(e){var t=e.data;s("getServices",t.rows),s("setPagination",t)});case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),setServiceInfo:function(e,t){var a=e.commit;v()({method:"get",url:"/services/"+t}).then(function(e){var t=e.data;a("setServiceInfo",t)})}}},Dr=a("a745"),Ir=a.n(Dr),Cr={namespaced:!0,state:{dialogVisible:{visible:!1},products:[],product:{},id:"5c384fc4d9bd932e34d14957",pid:"",pagination:{},dialogImageUrls:[{url:"1.png"}],dialogImageUrl:"",title:{name:""}},mutations:{setDialogVisible:function(e,t){e.dialogVisible.visible=t},setId:function(e,t){e.id=t},setProducts:function(e,t){e.products=t},setPagination:function(e,t){e.pagination=t},getPid:function(e,t){e.pid=t},setProduct:function(e,t){e.product=t},setTitle:function(e,t){e.title={name:t}},adddialogImageUrls:function(e,t){Ir()(e.product.img)||(e.product.img=[],e.product.img.push({url:t})),e.product.img.push({url:t})},removedialogImageUrls:function(e,t){e.product.img.splice(e.dialogImageUrls.indexOf({url:t}),1)}},actions:{setProducts:function(e){var t=e.commit,a=e.rootState,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{page:1,row:5},o=a.session._id||JSON.parse(window.localStorage.getItem("session"))._id;v()({methods:"get",url:"/supplier",params:Object(f["a"])({id:o},s)}).then(function(e){var a=e.data;t("setPagination",a),a=a.rows;for(var s=[],o=0;o<a.length;o++){for(var r=0;r<a[o].img.length;r++)s.push(a[o].img[r].url);a[o].img=s.join(",")}t("setProducts",a)})},getProduct:function(e){var t=e.commit,a=e.state,s=e.rootState,o=s.session._id||JSON.parse(window.localStorage.getItem("session"))._id,r=a.pid;v()({method:"get",url:"/supplier/".concat(r),params:{id:o}}).then(function(e){var a=e.data;t("setProduct",a)})},updateProduct:function(e){var t=e.commit,a=e.state,s=e.dispatch;delete a.product._id,delete a.product.supplier,v()({url:"/supplier/"+a.pid,method:"put",data:Object(f["a"])({},a.product)}).then(function(){t("setProduct",{}),s("setProducts")})},addProduct:function(e){var t=e.state,a=e.commit,s=e.dispatch,o=e.rootState,r=o.session._id||JSON.parse(window.localStorage.getItem("session"))._id;v()({url:"/supplier/"+r,method:"post",data:Object(f["a"])({},t.product)}).then(function(){a("setProduct",{}),s("setProducts")})}}},Tr={namespaced:!0,state:{shop:{},userId:"",shopId:""},getters:{},mutations:{setShop:function(e,t){e.shop=t},setUserId:function(e,t){e.userId=t},setShopId:function(e,t){e.shopId=t}},actions:{getSession:function(e){var t=e.commit;v()({method:"get",url:"/users/getSession"}).then(function(e){var a=e.data;t("setUserId",a._id),v()({method:"get",url:"/shop",params:{userId:a._id}}).then(function(e){var a=e.data;t("setShopId",a[0]._id),window.localStorage.setItem("shopId",Dt()(a[0]._id)),t("setShop",a[0])})})}}},jr={namespaced:!0,state:{shopId:"",trueTime:"",orders:[]},getters:{},mutations:{setShopId:function(e,t){e.shopId=t},setTrueTime:function(e,t){e.trueTime=t},setOrders:function(e,t){e.orders=t}},actions:{getTime:function(e){var t=e.commit,a=new Date,s=a.getFullYear(),o=(a.getMonth()+1).toString().replace(/^[0-9]{1}$/,a.getMonth()+1),r=a.getDate().toString().replace(/^[0-9]{1}$/,a.getDate());t("setTrueTime",s+"/"+o+"/"+r)},getOrders:function(e){var t=e.commit,a=e.state;v()({method:"get",url:"/salePro",params:{trueTime:a.trueTime,shopId:a.shopId}}).then(function(e){var a=e.data;t("setOrders",a)})}}};s["default"].use(b["b"]);var Vr=new b["b"].Store({modules:{orderModules:kr,serviceModules:$r,SupProducts:Cr,shopModule:Tr,platformModule:Or,productsMoudles:Pr,salesModule:jr},state:{session:{}},mutations:{getsession:function(e,t){e.session=t}},actions:{getSession:function(e){var t=e.commit;v()({method:"get",url:"/users/getSession"}).then(function(e){var a=e.data;t("getsession",a),window.localStorage.setItem("session",Dt()(a))})}}}),Ar=a("5c96"),Mr=a.n(Ar);a("0fae");s["default"].use(Mr.a),s["default"].config.productionTip=!1,new s["default"]({store:Vr,router:wr,render:function(e){return e(u)}}).$mount("#app")},"57c5":function(e,t,a){"use strict";var s=a("9c03"),o=a.n(s);o.a},5903:function(e,t,a){"use strict";var s=a("964c"),o=a.n(s);o.a},6352:function(e,t,a){"use strict";var s=a("2d09"),o=a.n(s);o.a},"64a9":function(e,t,a){},"650e":function(e,t,a){},6900:function(e,t,a){"use strict";var s=a("ea73"),o=a.n(s);o.a},"6b2b":function(e,t,a){},"6c28":function(e,t,a){"use strict";var s=a("513d"),o=a.n(s);o.a},"6ed9":function(e,t,a){},"723d":function(e,t,a){"use strict";var s=a("f8af"),o=a.n(s);o.a},"762d":function(e,t,a){"use strict";var s=a("cb3f"),o=a.n(s);o.a},7682:function(e,t,a){"use strict";var s=a("e93b"),o=a.n(s);o.a},"7d53":function(e,t,a){"use strict";var s=a("a12b"),o=a.n(s);o.a},"7dc4":function(e,t,a){},8529:function(e,t,a){},"879f":function(e,t,a){},"8b12":function(e,t,a){"use strict";var s=a("c320"),o=a.n(s);o.a},"8eef":function(e,t,a){},9625:function(e,t,a){},"964c":function(e,t,a){},"97d8":function(e,t,a){"use strict";var s=a("2379"),o=a.n(s);o.a},9835:function(e,t,a){"use strict";var s=a("fc62"),o=a.n(s);o.a},"990c":function(e,t,a){"use strict";var s=a("994c"),o=a.n(s);o.a},"994c":function(e,t,a){},"9aa0":function(e,t,a){},"9c03":function(e,t,a){},"9f7a":function(e,t,a){},a12b:function(e,t,a){},a4f1:function(e,t,a){"use strict";var s=a("33d6"),o=a.n(s);o.a},af83:function(e,t,a){"use strict";var s=a("efc6"),o=a.n(s);o.a},b01c:function(e,t,a){"use strict";var s=a("9625"),o=a.n(s);o.a},b6fb:function(e,t,a){"use strict";var s=a("eed5"),o=a.n(s);o.a},c320:function(e,t,a){},c530:function(e,t,a){"use strict";var s=a("879f"),o=a.n(s);o.a},ca36:function(e,t,a){"use strict";var s=a("7dc4"),o=a.n(s);o.a},cb0f:function(e,t,a){},cb39:function(e,t,a){"use strict";var s=a("4e1a"),o=a.n(s);o.a},cb3f:function(e,t,a){},d315:function(e,t,a){"use strict";var s=a("3b90"),o=a.n(s);o.a},d806:function(e,t,a){},d9e2:function(e,t,a){"use strict";var s=a("8eef"),o=a.n(s);o.a},e93b:function(e,t,a){},ea73:function(e,t,a){},eed5:function(e,t,a){},efc6:function(e,t,a){},f01d:function(e,t,a){"use strict";var s=a("1de9"),o=a.n(s);o.a},f8af:function(e,t,a){},fc02:function(e,t,a){"use strict";var s=a("336f"),o=a.n(s);o.a},fc62:function(e,t,a){}});
//# sourceMappingURL=app.357154c9.js.map